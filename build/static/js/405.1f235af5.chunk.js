/*! For license information please see 405.1f235af5.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkfinancial_resume_engine_frontend=self.webpackChunkfinancial_resume_engine_frontend||[]).push([[405],{1360:(e,a,t)=>{t.d(a,{A:()=>s});const s=(0,t(8995).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},2405:(e,a,t)=>{t.r(a),t.d(a,{default:()=>p});var s=t(2555),r=t(5043),n=t(9292),c=t(1360),i=t(9350),o=t(6533),l=t(9855),d=t(4505),m=t(3768),u=t(579);const p=()=>{const[e,a]=(0,r.useState)([]),[t,p]=(0,r.useState)(!0),[x,g]=(0,r.useState)(!1),[h,v]=(0,r.useState)(null),[y,f]=(0,r.useState)(""),[j,A]=(0,r.useState)({name:"",description:""});(0,r.useEffect)((()=>{N()}),[]);const N=async()=>{try{var e;p(!0);const t=await d.fm.list(),s=(null===(e=t.data)||void 0===e?void 0:e.data)||t.data||[];a(Array.isArray(s)?s:[])}catch(t){console.error("Error loading categories:",t),m.Ay.error("Error al cargar las categor\xedas"),a([])}finally{p(!1)}},b=Array.isArray(e)?e.filter((e=>e.name.toLowerCase().includes(y.toLowerCase()))):[];return t?(0,u.jsxs)("div",{className:"flex items-center justify-center h-64",children:[(0,u.jsx)("div",{className:"spinner"}),(0,u.jsx)("span",{className:"ml-2 text-mp-gray-600",children:"Cargando categor\xedas..."})]}):(0,u.jsxs)("div",{className:"space-y-6",children:[(0,u.jsx)("div",{className:"card",children:(0,u.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[(0,u.jsxs)("div",{className:"relative",children:[(0,u.jsx)(n.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-mp-gray-400"}),(0,u.jsx)("input",{type:"text",placeholder:"Buscar categor\xedas...",value:y,onChange:e=>f(e.target.value),className:"pl-10 input w-full sm:w-64"})]}),(0,u.jsxs)("button",{onClick:()=>g(!0),className:"btn-primary flex items-center space-x-2",children:[(0,u.jsx)(c.A,{className:"w-4 h-4"}),(0,u.jsx)("span",{children:"Nueva Categor\xeda"})]})]})}),(0,u.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:0===b.length?(0,u.jsxs)("div",{className:"col-span-full text-center py-12",children:[(0,u.jsx)(i.A,{className:"w-12 h-12 text-mp-gray-400 mx-auto mb-4"}),(0,u.jsx)("h3",{className:"text-lg font-medium text-mp-gray-900 mb-2",children:"No hay categor\xedas"}),(0,u.jsx)("p",{className:"text-mp-gray-500",children:"Comienza creando tu primera categor\xeda"})]}):b.map((e=>(0,u.jsx)("div",{className:"card-hover",children:(0,u.jsxs)("div",{className:"flex items-start justify-between",children:[(0,u.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,u.jsx)("div",{className:"p-2 rounded-mp bg-blue-100",children:(0,u.jsx)(i.A,{className:"w-5 h-5 text-mp-primary"})}),(0,u.jsxs)("div",{children:[(0,u.jsx)("h3",{className:"font-medium text-mp-gray-900",children:e.name}),e.description&&(0,u.jsx)("p",{className:"text-sm text-mp-gray-500 mt-1",children:e.description})]})]}),(0,u.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,u.jsx)("button",{onClick:()=>(e=>{v(e),A({name:e.name,description:e.description||""}),g(!0)})(e),className:"p-2 rounded-mp text-mp-gray-600 hover:bg-mp-gray-200 transition-colors",children:(0,u.jsx)(o.A,{className:"w-4 h-4"})}),(0,u.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("\xbfEst\xe1s seguro de que quieres eliminar esta categor\xeda?"))try{await d.fm.delete(e.id),m.Ay.success("Categor\xeda eliminada correctamente"),N()}catch(a){m.Ay.error("Error al eliminar la categor\xeda")}})(e),className:"p-2 rounded-mp text-mp-error hover:bg-red-100 transition-colors",children:(0,u.jsx)(l.A,{className:"w-4 h-4"})})]})]})},e.id)))}),x&&(0,u.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,u.jsxs)("div",{className:"bg-white rounded-mp-lg max-w-md w-full p-6",children:[(0,u.jsx)("h2",{className:"text-xl font-bold text-mp-gray-900 mb-6",children:h?"Editar Categor\xeda":"Nueva Categor\xeda"}),(0,u.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{h?(await d.fm.update(h.id,j),m.Ay.success("Categor\xeda actualizada correctamente")):(await d.fm.create(j),m.Ay.success("Categor\xeda creada correctamente")),g(!1),v(null),A({name:"",description:""}),N()}catch(a){m.Ay.error("Error al guardar la categor\xeda")}},className:"space-y-4",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{className:"block text-sm font-medium text-mp-gray-700 mb-2",children:"Nombre"}),(0,u.jsx)("input",{type:"text",value:j.name,onChange:e=>A((0,s.A)((0,s.A)({},j),{},{name:e.target.value})),className:"input",required:!0})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{className:"block text-sm font-medium text-mp-gray-700 mb-2",children:"Descripci\xf3n"}),(0,u.jsx)("textarea",{value:j.description,onChange:e=>A((0,s.A)((0,s.A)({},j),{},{description:e.target.value})),className:"input",rows:"3"})]}),(0,u.jsxs)("div",{className:"flex space-x-4 pt-4",children:[(0,u.jsx)("button",{type:"button",onClick:()=>{g(!1),v(null),A({name:"",description:""})},className:"btn-outline flex-1",children:"Cancelar"}),(0,u.jsx)("button",{type:"submit",className:"btn-primary flex-1",children:h?"Actualizar":"Crear"})]})]})]})})]})}},4505:(e,a,t)=>{t.d(a,{Ee:()=>g,_2:()=>m,fm:()=>o,rh:()=>p,sh:()=>l,t_:()=>d,vv:()=>x,zZ:()=>u});var s=t(2555),r=t(9722),n=t(3768);const c=r.A.create({baseURL:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"/api/v1",timeout:1e4,headers:{"Content-Type":"application/json"}}),i="user123";c.interceptors.request.use((e=>(e.headers["x-caller-id"]=i,e)),(e=>Promise.reject(e))),c.interceptors.response.use((e=>e),(e=>{var a,t,s,r,c;const i=(null===(a=e.response)||void 0===a||null===(t=a.data)||void 0===t?void 0:t.error)||e.message||"Error desconocido";return 401===(null===(s=e.response)||void 0===s?void 0:s.status)?n.Ay.error("No autorizado"):404===(null===(r=e.response)||void 0===r?void 0:r.status)?n.Ay.error("Recurso no encontrado"):(null===(c=e.response)||void 0===c?void 0:c.status)>=500?n.Ay.error("Error del servidor"):n.Ay.error(i),Promise.reject(e)}));const o={list:()=>c.get("/categories"),get:e=>c.get("/categories/".concat(e)),create:e=>c.post("/categories",(0,s.A)((0,s.A)({},e),{},{user_id:i})),update:(e,a)=>c.patch("/categories/".concat(e),(0,s.A)((0,s.A)({},a),{},{user_id:i})),delete:e=>c.delete("/categories/".concat(e))},l={list:()=>c.get("/expenses"),listUnpaid:()=>c.get("/expenses/unpaid"),get:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,a=arguments.length>1?arguments[1]:void 0;return c.get("/expenses/".concat(e,"/").concat(a))},create:e=>c.post("/expenses",(0,s.A)((0,s.A)({},e),{},{user_id:i})),update:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,a=arguments.length>1?arguments[1]:void 0,t=arguments.length>2?arguments[2]:void 0;return c.patch("/expenses/".concat(e,"/").concat(a),(0,s.A)((0,s.A)({},t),{},{user_id:i}))},delete:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,a=arguments.length>1?arguments[1]:void 0;return c.delete("/expenses/".concat(e,"/").concat(a))}},d={list:()=>c.get("/incomes"),get:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,a=arguments.length>1?arguments[1]:void 0;return c.get("/incomes/".concat(e,"/").concat(a))},create:e=>c.post("/incomes",(0,s.A)((0,s.A)({},e),{},{user_id:i})),update:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,a=arguments.length>1?arguments[1]:void 0,t=arguments.length>2?arguments[2]:void 0;return c.patch("/incomes/".concat(e,"/").concat(a),(0,s.A)((0,s.A)({},t),{},{user_id:i}))},delete:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,a=arguments.length>1?arguments[1]:void 0;return c.delete("/incomes/".concat(e,"/").concat(a))}},m={generate:(e,a)=>c.get("/reports",{params:{start_date:e,end_date:a}})},u={overview:e=>c.get("/dashboard",{params:e})},p={expenses:e=>c.get("/expenses/summary",{params:e}),incomes:e=>c.get("/incomes/summary",{params:e}),categories:e=>c.get("/categories/analytics",{params:e})},x=e=>new Intl.NumberFormat("es-AR",{style:"currency",currency:"ARS"}).format(e),g=e=>"".concat(e.toFixed(1),"%")},6533:(e,a,t)=>{t.d(a,{A:()=>s});const s=(0,t(8995).A)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]])},9855:(e,a,t)=>{t.d(a,{A:()=>s});const s=(0,t(8995).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])}}]);
//# sourceMappingURL=405.1f235af5.chunk.js.map