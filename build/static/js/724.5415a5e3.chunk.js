"use strict";(self.webpackChunkfinancial_resume_frontend=self.webpackChunkfinancial_resume_frontend||[]).push([[724],{4505:(e,t,a)=>{a.d(t,{Ee:()=>p,Yq:()=>h,_2:()=>m,fm:()=>c,rh:()=>u,sh:()=>d,t_:()=>l,vv:()=>g,zZ:()=>x});var s=a(2555),r=a(9722),n=a(3768);const o=r.A.create({baseURL:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"http://localhost:8080/api/v1",timeout:1e4,headers:{"Content-Type":"application/json"}}),i="user123";o.interceptors.request.use((e=>(e.headers["x-caller-id"]=i,e)),(e=>Promise.reject(e))),o.interceptors.response.use((e=>e),(e=>{var t,a,s,r,o;const i=(null===(t=e.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.error)||e.message||"Error desconocido";return 401===(null===(s=e.response)||void 0===s?void 0:s.status)?n.Ay.error("No autorizado"):404===(null===(r=e.response)||void 0===r?void 0:r.status)?n.Ay.error("Recurso no encontrado"):(null===(o=e.response)||void 0===o?void 0:o.status)>=500?n.Ay.error("Error del servidor"):n.Ay.error(i),Promise.reject(e)}));const c={list:()=>o.get("/categories"),get:e=>o.get("/categories/".concat(e)),create:e=>o.post("/categories",(0,s.A)((0,s.A)({},e),{},{user_id:i})),update:(e,t)=>o.patch("/categories/".concat(e),(0,s.A)((0,s.A)({},t),{},{user_id:i})),delete:e=>o.delete("/categories/".concat(e))},d={list:()=>o.get("/expenses"),listUnpaid:()=>o.get("/expenses/unpaid"),get:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;return o.get("/expenses/".concat(e,"/").concat(t))},create:e=>o.post("/expenses",(0,s.A)((0,s.A)({},e),{},{user_id:i})),update:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0;return o.patch("/expenses/".concat(e,"/").concat(t),(0,s.A)((0,s.A)({},a),{},{user_id:i}))},delete:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;return o.delete("/expenses/".concat(e,"/").concat(t))}},l={list:()=>o.get("/incomes"),get:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;return o.get("/incomes/".concat(e,"/").concat(t))},create:e=>o.post("/incomes",(0,s.A)((0,s.A)({},e),{},{user_id:i})),update:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0;return o.patch("/incomes/".concat(e,"/").concat(t),(0,s.A)((0,s.A)({},a),{},{user_id:i}))},delete:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;return o.delete("/incomes/".concat(e,"/").concat(t))}},m={generate:(e,t)=>o.get("/reports",{params:{start_date:e,end_date:t}})},x={overview:e=>o.get("/dashboard",{params:e})},u={expenses:e=>o.get("/expenses/summary",{params:e}),incomes:e=>o.get("/incomes/summary",{params:e}),categories:e=>o.get("/categories/analytics",{params:e})},g=e=>{const t=Number(e);return isNaN(t)||null===e||void 0===e?"$0,00":new Intl.NumberFormat("es-AR",{style:"currency",currency:"ARS"}).format(t)},h=e=>{if(!e||null===e||void 0===e)return"Fecha no disponible";const t=new Date(e);return isNaN(t.getTime())?"Fecha inv\xe1lida":new Intl.DateTimeFormat("es-AR",{year:"numeric",month:"long",day:"numeric"}).format(t)},p=e=>{const t=Number(e);return isNaN(t)||null===e||void 0===e?"0.0%":"".concat(t.toFixed(1),"%")}},5724:(e,t,a)=>{a.r(t),a.d(t,{default:()=>A});var s=a(2555),r=a(5043),n=a(9742),o=a(7104),i=a(4919),c=a(3782),d=a(8646),l=a(108),m=a(5748),x=a(7734),u=a(2185),g=a(6026),h=a(6150),p=a(168),y=a(2291),f=a(8643),j=a(4505),v=a(8651),_=a(4957),N=a(3768),b=a(579);const A=()=>{var e;const[t,a]=(0,r.useState)(!1),[A,T]=(0,r.useState)(null),[w,S]=(0,r.useState)({start_date:new Date((new Date).getFullYear(),(new Date).getMonth(),1).toISOString().split("T")[0],end_date:(new Date).toISOString().split("T")[0]}),{balancesHidden:k}=(0,_.P)(),E=e=>k?"\u2022\u2022\u2022\u2022\u2022\u2022":(0,j.vv)(e),D=r.useCallback((async()=>{try{a(!0);const e=await j._2.generate(w.start_date,w.end_date);T(e.data)}catch(e){console.warn("\u26a0\ufe0f API no disponible, usando datos mock:",e.message),await(0,v.uT)(300),T(v.NK),N.Ay.success("\ud83d\udea7 Usando datos de ejemplo (backend no disponible)",{duration:2e3})}finally{a(!1)}}),[w.start_date,w.end_date]);(0,r.useEffect)((()=>{D()}),[D]);const C=(e,t)=>{S((a=>(0,s.A)((0,s.A)({},a),{},{[e]:t})))},P=(()=>{if(!A||!A.transactions)return[];const e=new Date(w.start_date),t=new Date(w.end_date);return[{month:e.getMonth()===t.getMonth()?e.toLocaleDateString("es-AR",{month:"short",year:"numeric"}):"".concat(e.toLocaleDateString("es-AR",{month:"short"})," - ").concat(t.toLocaleDateString("es-AR",{month:"short"})),ingresos:A.total_income||0,gastos:A.total_expenses||0}]})(),R=A&&A.category_summary?A.category_summary.map((e=>{var t;return{category:e.category_name,amount:e.total_amount,percentage:Math.round(e.percentage),transactions:(null===(t=A.transactions)||void 0===t?void 0:t.filter((t=>t.category_id===e.category_id&&"expense"===t.type)).length)||0}})):[];return t?(0,b.jsxs)("div",{className:"flex items-center justify-center h-64",children:[(0,b.jsx)("div",{className:"spinner"}),(0,b.jsx)("span",{className:"ml-2 text-fr-gray-600",children:"Generando reporte..."})]}):(0,b.jsxs)("div",{className:"space-y-6",children:[(0,b.jsx)("div",{className:"card",children:(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[(0,b.jsxs)("div",{className:"flex flex-col sm:flex-row space-y-4 sm:space-y-0 sm:space-x-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-fr-gray-700 mb-2",children:"Fecha inicio"}),(0,b.jsx)("input",{type:"date",value:w.start_date,onChange:e=>C("start_date",e.target.value),className:"input"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("label",{className:"block text-sm font-medium text-fr-gray-700 mb-2",children:"Fecha fin"}),(0,b.jsx)("input",{type:"date",value:w.end_date,onChange:e=>C("end_date",e.target.value),className:"input"})]})]}),(0,b.jsxs)("div",{className:"flex space-x-4",children:[(0,b.jsxs)("button",{onClick:D,className:"btn-primary flex items-center space-x-2",children:[(0,b.jsx)(n.A,{className:"w-4 h-4"}),(0,b.jsx)("span",{children:"Generar Reporte"})]}),(0,b.jsxs)("button",{className:"btn-outline flex items-center space-x-2",children:[(0,b.jsx)(o.A,{className:"w-4 h-4"}),(0,b.jsx)("span",{children:"Exportar"})]})]})]})}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,b.jsx)("div",{className:"card",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-fr-gray-600",children:"Total Ingresos"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-fr-secondary",children:E((null===A||void 0===A?void 0:A.total_income)||0)})]}),(0,b.jsx)("div",{className:"p-3 rounded-fr bg-green-100",children:(0,b.jsx)(i.A,{className:"w-6 h-6 text-fr-secondary"})})]})}),(0,b.jsx)("div",{className:"card",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-fr-gray-600",children:"Total Gastos"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-fr-gray-900",children:E((null===A||void 0===A?void 0:A.total_expenses)||0)})]}),(0,b.jsx)("div",{className:"p-3 rounded-fr bg-gray-100",children:(0,b.jsx)(c.A,{className:"w-6 h-6 text-fr-gray-900"})})]})}),(0,b.jsx)("div",{className:"card",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-fr-gray-600",children:"Balance"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-fr-secondary",children:E(((null===A||void 0===A?void 0:A.total_income)||0)-((null===A||void 0===A?void 0:A.total_expenses)||0))})]}),(0,b.jsx)("div",{className:"p-3 rounded-fr bg-blue-100",children:(0,b.jsx)(n.A,{className:"w-6 h-6 text-fr-primary"})})]})}),(0,b.jsx)("div",{className:"card",children:(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("p",{className:"text-sm font-medium text-fr-gray-600",children:"Transacciones"}),(0,b.jsx)("p",{className:"text-2xl font-bold text-fr-gray-900",children:(null===A||void 0===A||null===(e=A.transactions)||void 0===e?void 0:e.length)||0})]}),(0,b.jsx)("div",{className:"p-3 rounded-fr bg-gray-100",children:(0,b.jsx)(d.A,{className:"w-6 h-6 text-fr-gray-600"})})]})})]}),(0,b.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,b.jsxs)("div",{className:"card",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-fr-gray-900 mb-6",children:"Tendencia Mensual"}),P.length>0?(0,b.jsx)(l.u,{width:"100%",height:300,children:(0,b.jsxs)(m.b,{data:P,children:[(0,b.jsx)(x.d,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),(0,b.jsx)(u.W,{dataKey:"month",stroke:"#6b7280"}),(0,b.jsx)(g.h,{stroke:"#6b7280"}),(0,b.jsx)(h.m,{formatter:e=>[(0,j.vv)(e)],contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 12px 0 rgba(0, 0, 0, 0.15)"}}),(0,b.jsx)(p.N,{type:"monotone",dataKey:"ingresos",stroke:"#00a650",strokeWidth:3,dot:{fill:"#00a650",strokeWidth:2,r:4}}),(0,b.jsx)(p.N,{type:"monotone",dataKey:"gastos",stroke:"#ff6900",strokeWidth:3,dot:{fill:"#ff6900",strokeWidth:2,r:4}})]})}):(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center h-64 text-center",children:[(0,b.jsx)(n.A,{className:"w-12 h-12 text-fr-gray-400 mb-4"}),(0,b.jsx)("h4",{className:"text-lg font-medium text-fr-gray-600 mb-2",children:"No hay datos para el per\xedodo"}),(0,b.jsx)("p",{className:"text-sm text-fr-gray-500",children:"Selecciona un rango de fechas con transacciones para ver la tendencia"})]})]}),(0,b.jsxs)("div",{className:"card",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-fr-gray-900 mb-6",children:"Gastos por Categor\xeda"}),R.length>0?(0,b.jsx)(l.u,{width:"100%",height:300,children:(0,b.jsxs)(y.E,{data:R,children:[(0,b.jsx)(x.d,{strokeDasharray:"3 3",stroke:"#e5e7eb"}),(0,b.jsx)(u.W,{dataKey:"category",stroke:"#6b7280"}),(0,b.jsx)(g.h,{stroke:"#6b7280"}),(0,b.jsx)(h.m,{formatter:e=>[(0,j.vv)(e)],contentStyle:{backgroundColor:"white",border:"1px solid #e5e7eb",borderRadius:"8px",boxShadow:"0 4px 12px 0 rgba(0, 0, 0, 0.15)"}}),(0,b.jsx)(f.y,{dataKey:"amount",fill:"#009ee3",radius:[4,4,0,0]})]})}):(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center h-64 text-center",children:[(0,b.jsx)(n.A,{className:"w-12 h-12 text-fr-gray-400 mb-4"}),(0,b.jsx)("h4",{className:"text-lg font-medium text-fr-gray-600 mb-2",children:"No hay gastos por categor\xedas"}),(0,b.jsx)("p",{className:"text-sm text-fr-gray-500",children:"Los gastos con categor\xedas aparecer\xe1n aqu\xed una vez que generes el reporte"})]})]})]}),(0,b.jsxs)("div",{className:"card",children:[(0,b.jsx)("h3",{className:"text-lg font-semibold text-fr-gray-900 mb-6",children:"Detalle por Categor\xeda"}),R.length>0?(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full",children:[(0,b.jsx)("thead",{children:(0,b.jsxs)("tr",{className:"border-b border-fr-gray-200",children:[(0,b.jsx)("th",{className:"text-left py-3 px-4 font-medium text-fr-gray-900",children:"Categor\xeda"}),(0,b.jsx)("th",{className:"text-right py-3 px-4 font-medium text-fr-gray-900",children:"Monto"}),(0,b.jsx)("th",{className:"text-right py-3 px-4 font-medium text-fr-gray-900",children:"Porcentaje"}),(0,b.jsx)("th",{className:"text-right py-3 px-4 font-medium text-fr-gray-900",children:"Transacciones"})]})}),(0,b.jsx)("tbody",{children:R.map(((e,t)=>(0,b.jsxs)("tr",{className:"border-b border-fr-gray-100 hover:bg-fr-gray-50",children:[(0,b.jsx)("td",{className:"py-3 px-4 text-fr-gray-900",children:e.category}),(0,b.jsx)("td",{className:"py-3 px-4 text-right font-medium text-fr-gray-900",children:E(e.amount)}),(0,b.jsxs)("td",{className:"py-3 px-4 text-right text-fr-gray-600",children:[e.percentage,"%"]}),(0,b.jsx)("td",{className:"py-3 px-4 text-right text-fr-gray-600",children:e.transactions})]},t)))})]})}):(0,b.jsxs)("div",{className:"flex flex-col items-center justify-center h-32 text-center",children:[(0,b.jsx)("h4",{className:"text-lg font-medium text-fr-gray-600 mb-2",children:"No hay datos de categor\xedas"}),(0,b.jsx)("p",{className:"text-sm text-fr-gray-500",children:"El detalle aparecer\xe1 cuando haya gastos con categor\xedas en el per\xedodo seleccionado"})]})]})]})}},8651:(e,t,a)=>{a.d(t,{NK:()=>c,No:()=>o,UI:()=>n,uT:()=>d,zA:()=>r,zj:()=>i});var s=a(2555);const r=[{id:1,name:"Alimentaci\xf3n",description:"Gastos en comida y bebidas",user_id:"user123"},{id:2,name:"Transporte",description:"Gastos en movilidad",user_id:"user123"},{id:3,name:"Entretenimiento",description:"Gastos en ocio y diversi\xf3n",user_id:"user123"},{id:4,name:"Salario",description:"Ingresos por trabajo",user_id:"user123"},{id:5,name:"Servicios",description:"Gastos en servicios p\xfablicos",user_id:"user123"}],n=[{id:1,user_id:"user123",description:"Supermercado",amount:12500,category_id:1,due_date:"2025-01-20",paid:!1,created_at:"2025-01-15T10:00:00Z",updated_at:"2025-01-15T10:00:00Z"},{id:2,user_id:"user123",description:"Uber",amount:3200,category_id:2,due_date:null,paid:!0,created_at:"2025-01-14T15:30:00Z",updated_at:"2025-01-14T15:30:00Z"},{id:3,user_id:"user123",description:"Netflix",amount:2800,category_id:3,due_date:"2025-01-25",paid:!0,created_at:"2025-01-12T09:15:00Z",updated_at:"2025-01-12T09:15:00Z"},{id:4,user_id:"user123",description:"Luz y Gas",amount:8500,category_id:5,due_date:"2025-01-30",paid:!1,created_at:"2025-01-10T12:00:00Z",updated_at:"2025-01-10T12:00:00Z"}],o=[{id:1,user_id:"user123",description:"Salario Enero",amount:25e4,category_id:4,created_at:"2025-01-01T08:00:00Z",updated_at:"2025-01-01T08:00:00Z"},{id:2,user_id:"user123",description:"Freelance - Proyecto Web",amount:45e3,category_id:4,created_at:"2025-01-10T14:00:00Z",updated_at:"2025-01-10T14:00:00Z"}],i={balance:268e3,totalIncome:295e3,totalExpenses:27e3,expenses:n,incomes:o,categories:r,categoriesAnalytics:[{Name:"Alimentaci\xf3n",TotalAmount:12500,Percentage:46.3,category_id:1},{Name:"Servicios",TotalAmount:8500,Percentage:31.5,category_id:5},{Name:"Transporte",TotalAmount:3200,Percentage:11.9,category_id:2},{Name:"Entretenimiento",TotalAmount:2800,Percentage:10.4,category_id:3}]},c={total_income:295e3,total_expenses:27e3,transactions:[...n,...o.map((e=>(0,s.A)((0,s.A)({},e),{},{type:"income"})))],category_summary:[{category_name:"Alimentaci\xf3n",total_amount:12500,percentage:46.3,category_id:1},{category_name:"Servicios",total_amount:8500,percentage:31.5,category_id:5},{category_name:"Transporte",total_amount:3200,percentage:11.9,category_id:2},{category_name:"Entretenimiento",total_amount:2800,percentage:10.4,category_id:3}]},d=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500;return new Promise((t=>setTimeout(t,e)))}}}]);
//# sourceMappingURL=724.5415a5e3.chunk.js.map