/*! For license information please see 405.221ad4a8.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkfinancial_resume_frontend=self.webpackChunkfinancial_resume_frontend||[]).push([[405],{1360:(e,t,a)=>{a.d(t,{A:()=>s});const s=(0,a(8995).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},2405:(e,t,a)=>{a.r(t),a.d(t,{default:()=>p});var s=a(2555),r=a(5043),n=a(9292),c=a(1360),i=a(9350),o=a(6533),l=a(9855),d=a(4505),m=a(3768),u=a(579);const p=()=>{const[e,t]=(0,r.useState)([]),[a,p]=(0,r.useState)(!0),[x,h]=(0,r.useState)(!1),[g,v]=(0,r.useState)(null),[f,y]=(0,r.useState)(""),[N,A]=(0,r.useState)({name:"",description:""});(0,r.useEffect)((()=>{j()}),[]);const j=async()=>{try{var e;p(!0);const a=await d.fm.list(),s=(null===(e=a.data)||void 0===e?void 0:e.data)||a.data||[];t(Array.isArray(s)?s:[])}catch(a){console.error("Error loading categories:",a),m.Ay.error("Error al cargar las categor\xedas"),t([])}finally{p(!1)}},b=Array.isArray(e)?e.filter((e=>e.name.toLowerCase().includes(f.toLowerCase()))):[];return a?(0,u.jsxs)("div",{className:"flex items-center justify-center h-64",children:[(0,u.jsx)("div",{className:"spinner"}),(0,u.jsx)("span",{className:"ml-2 text-fr-gray-600",children:"Cargando categor\xedas..."})]}):(0,u.jsxs)("div",{className:"space-y-6",children:[(0,u.jsx)("div",{className:"card",children:(0,u.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[(0,u.jsxs)("div",{className:"relative",children:[(0,u.jsx)(n.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-fr-gray-400"}),(0,u.jsx)("input",{type:"text",placeholder:"Buscar categor\xedas...",value:f,onChange:e=>y(e.target.value),className:"pl-10 input w-full sm:w-64"})]}),(0,u.jsxs)("button",{onClick:()=>h(!0),className:"btn-primary flex items-center space-x-2",children:[(0,u.jsx)(c.A,{className:"w-4 h-4"}),(0,u.jsx)("span",{children:"Nueva Categor\xeda"})]})]})}),(0,u.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:0===b.length?(0,u.jsxs)("div",{className:"col-span-full text-center py-12",children:[(0,u.jsx)(i.A,{className:"w-12 h-12 text-fr-gray-400 mx-auto mb-4"}),(0,u.jsx)("h3",{className:"text-lg font-medium text-fr-gray-900 mb-2",children:"No hay categor\xedas"}),(0,u.jsx)("p",{className:"text-fr-gray-500",children:"Comienza creando tu primera categor\xeda"})]}):b.map((e=>(0,u.jsx)("div",{className:"card-hover",children:(0,u.jsxs)("div",{className:"flex items-start justify-between",children:[(0,u.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,u.jsx)("div",{className:"p-2 rounded-fr bg-blue-100",children:(0,u.jsx)(i.A,{className:"w-5 h-5 text-fr-primary"})}),(0,u.jsxs)("div",{children:[(0,u.jsx)("h3",{className:"font-medium text-fr-gray-900",children:e.name}),e.description&&(0,u.jsx)("p",{className:"text-sm text-fr-gray-500 mt-1",children:e.description})]})]}),(0,u.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,u.jsx)("button",{onClick:()=>(e=>{v(e),A({name:e.name,description:e.description||""}),h(!0)})(e),className:"p-2 rounded-fr text-fr-gray-600 hover:bg-fr-gray-200 transition-colors",children:(0,u.jsx)(o.A,{className:"w-4 h-4"})}),(0,u.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("\xbfEst\xe1s seguro de que quieres eliminar esta categor\xeda?"))try{await d.fm.delete(e.id),m.Ay.success("Categor\xeda eliminada correctamente"),j()}catch(t){m.Ay.error("Error al eliminar la categor\xeda")}})(e),className:"p-2 rounded-fr text-fr-error hover:bg-red-100 transition-colors",children:(0,u.jsx)(l.A,{className:"w-4 h-4"})})]})]})},e.id)))}),x&&(0,u.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,u.jsxs)("div",{className:"bg-white rounded-fr-lg max-w-md w-full p-6",children:[(0,u.jsx)("h2",{className:"text-xl font-bold text-fr-gray-900 mb-6",children:g?"Editar Categor\xeda":"Nueva Categor\xeda"}),(0,u.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{g?(await d.fm.update(g.id,N),m.Ay.success("Categor\xeda actualizada correctamente")):(await d.fm.create(N),m.Ay.success("Categor\xeda creada correctamente")),h(!1),v(null),A({name:"",description:""}),j()}catch(t){m.Ay.error("Error al guardar la categor\xeda")}},className:"space-y-4",children:[(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{className:"block text-sm font-medium text-fr-gray-700 mb-2",children:"Nombre"}),(0,u.jsx)("input",{type:"text",value:N.name,onChange:e=>A((0,s.A)((0,s.A)({},N),{},{name:e.target.value})),className:"input",required:!0})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{className:"block text-sm font-medium text-fr-gray-700 mb-2",children:"Descripci\xf3n"}),(0,u.jsx)("textarea",{value:N.description,onChange:e=>A((0,s.A)((0,s.A)({},N),{},{description:e.target.value})),className:"input",rows:"3"})]}),(0,u.jsxs)("div",{className:"flex space-x-4 pt-4",children:[(0,u.jsx)("button",{type:"button",onClick:()=>{h(!1),v(null),A({name:"",description:""})},className:"btn-outline flex-1",children:"Cancelar"}),(0,u.jsx)("button",{type:"submit",className:"btn-primary flex-1",children:g?"Actualizar":"Crear"})]})]})]})})]})}},4505:(e,t,a)=>{a.d(t,{Ee:()=>g,Yq:()=>h,_2:()=>m,fm:()=>o,rh:()=>p,sh:()=>l,t_:()=>d,vv:()=>x,zZ:()=>u});var s=a(2555),r=a(9722),n=a(3768);const c=r.A.create({baseURL:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"http://localhost:8080/api/v1",timeout:1e4,headers:{"Content-Type":"application/json"}}),i="user123";c.interceptors.request.use((e=>(e.headers["x-caller-id"]=i,e)),(e=>Promise.reject(e))),c.interceptors.response.use((e=>e),(e=>{var t,a,s,r,c;const i=(null===(t=e.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.error)||e.message||"Error desconocido";return 401===(null===(s=e.response)||void 0===s?void 0:s.status)?n.Ay.error("No autorizado"):404===(null===(r=e.response)||void 0===r?void 0:r.status)?n.Ay.error("Recurso no encontrado"):(null===(c=e.response)||void 0===c?void 0:c.status)>=500?n.Ay.error("Error del servidor"):n.Ay.error(i),Promise.reject(e)}));const o={list:()=>c.get("/categories"),get:e=>c.get("/categories/".concat(e)),create:e=>c.post("/categories",(0,s.A)((0,s.A)({},e),{},{user_id:i})),update:(e,t)=>c.patch("/categories/".concat(e),(0,s.A)((0,s.A)({},t),{},{user_id:i})),delete:e=>c.delete("/categories/".concat(e))},l={list:()=>c.get("/expenses"),listUnpaid:()=>c.get("/expenses/unpaid"),get:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;return c.get("/expenses/".concat(e,"/").concat(t))},create:e=>c.post("/expenses",(0,s.A)((0,s.A)({},e),{},{user_id:i})),update:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0;return c.patch("/expenses/".concat(e,"/").concat(t),(0,s.A)((0,s.A)({},a),{},{user_id:i}))},delete:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;return c.delete("/expenses/".concat(e,"/").concat(t))}},d={list:()=>c.get("/incomes"),get:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;return c.get("/incomes/".concat(e,"/").concat(t))},create:e=>c.post("/incomes",(0,s.A)((0,s.A)({},e),{},{user_id:i})),update:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0;return c.patch("/incomes/".concat(e,"/").concat(t),(0,s.A)((0,s.A)({},a),{},{user_id:i}))},delete:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments.length>1?arguments[1]:void 0;return c.delete("/incomes/".concat(e,"/").concat(t))}},m={generate:(e,t)=>c.get("/reports",{params:{start_date:e,end_date:t}})},u={overview:e=>c.get("/dashboard",{params:e})},p={expenses:e=>c.get("/expenses/summary",{params:e}),incomes:e=>c.get("/incomes/summary",{params:e}),categories:e=>c.get("/categories/analytics",{params:e})},x=e=>{const t=Number(e);return isNaN(t)||null===e||void 0===e?"$0,00":new Intl.NumberFormat("es-AR",{style:"currency",currency:"ARS"}).format(t)},h=e=>{if(!e||null===e||void 0===e)return"Fecha no disponible";const t=new Date(e);return isNaN(t.getTime())?"Fecha inv\xe1lida":new Intl.DateTimeFormat("es-AR",{year:"numeric",month:"long",day:"numeric"}).format(t)},g=e=>{const t=Number(e);return isNaN(t)||null===e||void 0===e?"0.0%":"".concat(t.toFixed(1),"%")}},6533:(e,t,a)=>{a.d(t,{A:()=>s});const s=(0,a(8995).A)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]])},9855:(e,t,a)=>{a.d(t,{A:()=>s});const s=(0,a(8995).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])}}]);
//# sourceMappingURL=405.221ad4a8.chunk.js.map