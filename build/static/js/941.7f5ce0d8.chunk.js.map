{"version":3,"file":"static/js/941.7f5ce0d8.chunk.js","mappings":"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","sources":["services/api.js","pages/Dashboard.jsx"],"sourcesContent":["import axios from 'axios';\nimport toast from 'react-hot-toast';\n\n// Configuración base de axios\nconst api = axios.create({\n  baseURL: process.env.REACT_APP_API_URL || '/api/v1',\n  timeout: 10000,\n  headers: {\n    'Content-Type': 'application/json',\n  },\n});\n\n// Usuario mock para desarrollo (en producción vendría de autenticación)\nconst MOCK_USER_ID = 'user123';\n\n// Interceptor para agregar el header x-caller-id\napi.interceptors.request.use(\n  (config) => {\n    config.headers['x-caller-id'] = MOCK_USER_ID;\n    return config;\n  },\n  (error) => {\n    return Promise.reject(error);\n  }\n);\n\n// Interceptor para manejar errores globalmente\napi.interceptors.response.use(\n  (response) => response,\n  (error) => {\n    const message = error.response?.data?.error || error.message || 'Error desconocido';\n    \n    if (error.response?.status === 401) {\n      toast.error('No autorizado');\n    } else if (error.response?.status === 404) {\n      toast.error('Recurso no encontrado');\n    } else if (error.response?.status >= 500) {\n      toast.error('Error del servidor');\n    } else {\n      toast.error(message);\n    }\n    \n    return Promise.reject(error);\n  }\n);\n\n// Servicios de Categorías\nexport const categoriesAPI = {\n  list: () => api.get('/categories'),\n  get: (id) => api.get(`/categories/${id}`),\n  create: (data) => api.post('/categories', { ...data, user_id: MOCK_USER_ID }),\n  update: (id, data) => api.patch(`/categories/${id}`, { ...data, user_id: MOCK_USER_ID }),\n  delete: (id) => api.delete(`/categories/${id}`),\n};\n\n// Servicios de Gastos\nexport const expensesAPI = {\n  list: () => api.get('/expenses'),\n  listUnpaid: () => api.get('/expenses/unpaid'),\n  get: (userId = MOCK_USER_ID, id) => api.get(`/expenses/${userId}/${id}`),\n  create: (data) => api.post('/expenses', { ...data, user_id: MOCK_USER_ID }),\n  update: (userId = MOCK_USER_ID, id, data) => api.patch(`/expenses/${userId}/${id}`, { ...data, user_id: MOCK_USER_ID }),\n  delete: (userId = MOCK_USER_ID, id) => api.delete(`/expenses/${userId}/${id}`),\n};\n\n// Servicios de Ingresos\nexport const incomesAPI = {\n  list: () => api.get('/incomes'),\n  get: (userId = MOCK_USER_ID, id) => api.get(`/incomes/${userId}/${id}`),\n  create: (data) => api.post('/incomes', { ...data, user_id: MOCK_USER_ID }),\n  update: (userId = MOCK_USER_ID, id, data) => api.patch(`/incomes/${userId}/${id}`, { ...data, user_id: MOCK_USER_ID }),\n  delete: (userId = MOCK_USER_ID, id) => api.delete(`/incomes/${userId}/${id}`),\n};\n\n// Servicios de Reportes\nexport const reportsAPI = {\n  generate: (startDate, endDate) => \n    api.get('/reports', {\n      params: {\n        start_date: startDate,\n        end_date: endDate,\n      },\n    }),\n};\n\n// Nuevos servicios de Dashboard y Analytics\nexport const dashboardAPI = {\n  overview: (params) => api.get('/dashboard', { params }),\n};\n\nexport const analyticsAPI = {\n  expenses: (params) => api.get('/expenses/summary', { params }),\n  incomes: (params) => api.get('/incomes/summary', { params }),\n  categories: (params) => api.get('/categories/analytics', { params }),\n};\n\n// Utilidades\nexport const formatCurrency = (amount) => {\n  return new Intl.NumberFormat('es-AR', {\n    style: 'currency',\n    currency: 'ARS',\n  }).format(amount);\n};\n\nexport const formatDate = (date) => {\n  return new Intl.DateTimeFormat('es-AR', {\n    year: 'numeric',\n    month: 'long',\n    day: 'numeric',\n  }).format(new Date(date));\n};\n\nexport const formatPercentage = (percentage) => {\n  return `${percentage.toFixed(1)}%`;\n};\n\nexport default api; ","import React, { useState, useEffect } from 'react';\nimport { \n  TrendingUp, \n  TrendingDown, \n  DollarSign, \n  PieChart,\n  ArrowUpRight,\n  ArrowDownRight,\n  Calendar,\n  Eye,\n  EyeOff,\n  CheckCircle,\n  XCircle\n} from 'lucide-react';\nimport { \n  AreaChart, \n  Area, \n  XAxis, \n  YAxis, \n  CartesianGrid, \n  Tooltip, \n  ResponsiveContainer,\n  PieChart as RechartsPieChart,\n  Pie,\n  Cell\n} from 'recharts';\nimport { expensesAPI, incomesAPI, categoriesAPI, dashboardAPI, analyticsAPI, formatCurrency } from '../services/api';\nimport toast from 'react-hot-toast';\n\nconst Dashboard = () => {\n  const [loading, setLoading] = useState(true);\n  const [showAmounts, setShowAmounts] = useState(true);\n  const [selectedMonth, setSelectedMonth] = useState(''); // Inicializar vacío para auto-seleccionar\n  const [selectedYear, setSelectedYear] = useState(''); // Filtro de año\n  const [sortBy, setSortBy] = useState('fecha'); // nuevo estado para ordenamiento\n  const [data, setData] = useState({\n    totalIncome: 0,\n    totalExpenses: 0,\n    balance: 0,\n    expenses: [],\n    incomes: [],\n    categories: [],\n  });\n\n  useEffect(() => {\n    loadDashboardData();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  // Recargar datos cuando cambien los filtros\n  useEffect(() => {\n    if (data.expenses.length > 0) { // Solo recargar si ya tenemos datos iniciales\n      loadDashboardData();\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [selectedMonth, selectedYear, data.expenses.length]);\n\n     // Efecto para limpiar el mes seleccionado cuando cambie el año si el mes no está disponible\n  useEffect(() => {\n    if (selectedYear && selectedMonth) {\n      const availableMonths = getAvailableMonthsForSelect();\n      if (!availableMonths.includes(selectedMonth)) {\n        setSelectedMonth(''); // Limpiar mes si no está disponible en el año seleccionado\n      }\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [selectedYear, data]); // Se ejecuta cuando cambia selectedYear o data\n\n  // Auto-seleccionar el primer mes con datos después de cargar\n  useEffect(() => {\n    // Generar opciones de meses basadas en los datos disponibles\n    const getAvailableMonths = () => {\n      const months = new Set();\n      \n      // Agregar meses de gastos e ingresos\n      [...data.expenses, ...data.incomes].forEach(item => {\n        if (item.created_at) {\n          const date = new Date(item.created_at);\n          const month = date.toISOString().slice(0, 7);\n          console.log(`[useEffect] Procesando fecha: ${item.created_at} -> ${month} (${date.toLocaleDateString('es-AR', { month: 'long', year: 'numeric' })})`);\n          months.add(month);\n        }\n      });\n      \n      // Siempre incluir el mes actual\n      const currentMonth = new Date().toISOString().slice(0, 7);\n      months.add(currentMonth);\n      \n      // Convertir a array y ordenar\n      return Array.from(months).sort().reverse();\n    };\n\n    if (!selectedMonth && (data.expenses.length > 0 || data.incomes.length > 0)) {\n      const availableMonths = getAvailableMonths();\n      console.log('Meses disponibles:', availableMonths); // Debug\n      console.log('Datos de ejemplo:', data.expenses[0]?.created_at, data.incomes[0]?.created_at); // Debug\n      console.log('Seleccionando mes:', availableMonths[0]); // Debug\n      if (availableMonths.length > 0) {\n        setSelectedMonth(availableMonths[0]); // Seleccionar el mes más reciente\n      }\n    }\n  }, [data, selectedMonth]);\n\n  // Función para generar opciones del selector filtradas por año\n  const getAvailableMonthsForSelect = () => {\n    const months = new Set();\n    \n    // Agregar meses de gastos e ingresos\n    [...data.expenses, ...data.incomes].forEach(item => {\n      if (item.created_at) {\n        const date = new Date(item.created_at);\n        const itemYear = date.getFullYear().toString();\n        \n        // Si hay un año seleccionado, solo incluir meses de ese año\n        if (selectedYear && itemYear !== selectedYear) {\n          return;\n        }\n        \n        const month = date.toISOString().slice(0, 7);\n        months.add(month);\n      }\n    });\n    \n    // Siempre incluir el mes actual si corresponde al año seleccionado o no hay año seleccionado\n    const currentDate = new Date();\n    const currentYear = currentDate.getFullYear().toString();\n    if (!selectedYear || currentYear === selectedYear) {\n      const currentMonth = currentDate.toISOString().slice(0, 7);\n      months.add(currentMonth);\n    }\n    \n    // Convertir a array y ordenar\n    return Array.from(months).sort().reverse();\n  };\n\n  // Función para obtener años disponibles\n  const getAvailableYears = () => {\n    const years = new Set();\n    \n    // Agregar años de gastos e ingresos\n    [...data.expenses, ...data.incomes].forEach(item => {\n      if (item.created_at) {\n        const date = new Date(item.created_at);\n        const year = date.getFullYear().toString();\n        years.add(year);\n      }\n    });\n    \n    // Siempre incluir el año actual\n    const currentYear = new Date().getFullYear().toString();\n    years.add(currentYear);\n    \n    // Convertir a array y ordenar\n    return Array.from(years).sort().reverse();\n  };\n\n  const loadDashboardData = async () => {\n    try {\n      setLoading(true);\n      \n      // Preparar parámetros de filtro para los nuevos endpoints\n      const filterParams = {};\n      if (selectedYear) filterParams.year = selectedYear;\n      if (selectedMonth) {\n        const [year, month] = selectedMonth.split('-');\n        filterParams.year = year;\n        filterParams.month = month;\n      }\n\n      let data = {};\n\n      try {\n        // Intentar usar los nuevos endpoints del backend\n        const [dashboardResponse, expensesResponse, categoriesResponse, oldCategoriesResponse] = await Promise.all([\n          dashboardAPI.overview(filterParams),\n          analyticsAPI.expenses({ ...filterParams, sort: 'date', order: 'desc', limit: 50 }),\n          analyticsAPI.categories(filterParams),\n          categoriesAPI.list(), // Mantener para dropdown de filtros\n        ]);\n\n        // Extraer datos de las respuestas del backend\n        const dashboard = dashboardResponse.data || {};\n        const expensesData = expensesResponse.data || {};\n        const categoriesData = categoriesResponse.data || {};\n        const categoriesForDropdown = oldCategoriesResponse.data?.data || oldCategoriesResponse.data || [];\n\n        // Usar datos pre-calculados del backend\n        data = {\n          // Métricas del dashboard (pre-calculadas por backend)\n          totalIncome: dashboard.Metrics?.TotalIncome || 0,\n          totalExpenses: dashboard.Metrics?.TotalExpenses || 0,\n          balance: dashboard.Metrics?.Balance || 0,\n          \n          // Transacciones con porcentajes calculados por backend\n          expenses: expensesData.Expenses || [],\n          incomes: [], // Cargaremos después si necesario\n          \n          // Categorías para dropdown de filtros\n          categories: Array.isArray(categoriesForDropdown) ? categoriesForDropdown : [],\n          \n          // Datos adicionales del backend\n          dashboardMetrics: dashboard.Metrics || {},\n          expensesSummary: expensesData.Summary || {},\n          categoriesAnalytics: categoriesData.Categories || [],\n        };\n\n        console.log('✅ Usando nuevos endpoints del backend');\n      } catch (newEndpointsError) {\n        console.warn('⚠️ Nuevos endpoints no disponibles, usando endpoints legacy:', newEndpointsError.message);\n        \n        // Fallback a endpoints viejos con cálculos client-side\n        const [expensesResponse, incomesResponse, categoriesResponse] = await Promise.all([\n          expensesAPI.list(),\n          incomesAPI.list(),\n          categoriesAPI.list(),\n        ]);\n\n        // Asegurar que siempre sean arrays\n        const expensesData = expensesResponse.data?.expenses || expensesResponse.data || [];\n        const incomesData = incomesResponse.data?.incomes || incomesResponse.data || [];\n        const categoriesData = categoriesResponse.data?.data || categoriesResponse.data || [];\n        \n        const expenses = Array.isArray(expensesData) ? expensesData : [];\n        const incomes = Array.isArray(incomesData) ? incomesData : [];\n        const categories = Array.isArray(categoriesData) ? categoriesData : [];\n\n        // Filtrar datos client-side si hay filtros activos\n        const filteredExpenses = filterDataByMonthAndYear(expenses, selectedMonth, selectedYear);\n        const filteredIncomes = filterDataByMonthAndYear(incomes, selectedMonth, selectedYear);\n\n        const totalExpenses = filteredExpenses.reduce((sum, expense) => sum + expense.amount, 0);\n        const totalIncome = filteredIncomes.reduce((sum, income) => sum + income.amount, 0);\n\n        data = {\n          totalIncome,\n          totalExpenses,\n          balance: totalIncome - totalExpenses,\n          expenses: filteredExpenses,\n          incomes: filteredIncomes,\n          categories,\n          dashboardMetrics: {},\n          expensesSummary: {},\n          categoriesAnalytics: [],\n        };\n\n        console.log('✅ Usando endpoints legacy con cálculos client-side');\n      }\n\n      setData(data);\n    } catch (error) {\n      console.error('Error loading dashboard data:', error);\n      toast.error('Error al cargar los datos del dashboard');\n      setData({\n        totalIncome: 0,\n        totalExpenses: 0,\n        balance: 0,\n        expenses: [],\n        incomes: [],\n        categories: [],\n        dashboardMetrics: {},\n        expensesSummary: {},\n        categoriesAnalytics: [],\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const formatAmount = (amount) => {\n    if (!showAmounts) return '••••••';\n    return formatCurrency(amount);\n  };\n\n  const formatPercentage = (percentage) => {\n    return `${percentage.toFixed(1)}%`;\n  };\n\n  // Función para filtrar datos client-side (fallback cuando nuevos endpoints no disponibles)\n  const filterDataByMonthAndYear = (dataArray, monthFilter, yearFilter) => {\n    if (!hasActiveFilters) return dataArray;\n    \n    return dataArray.filter(item => {\n      const itemDate = new Date(item.created_at);\n      \n      // Filtrar por año si está seleccionado\n      if (yearFilter && itemDate.getFullYear().toString() !== yearFilter) {\n        return false;\n      }\n      \n      // Filtrar por mes si está seleccionado\n      if (monthFilter) {\n        const itemMonth = itemDate.toISOString().slice(0, 7);\n        return itemMonth === monthFilter;\n      }\n      \n      return true;\n    });\n  };\n  \n  // Variable para saber si hay algún filtro activo\n  const hasActiveFilters = selectedMonth || selectedYear;\n  \n  // Función para generar el título del período seleccionado\n  const getPeriodTitle = () => {\n    if (selectedMonth && selectedYear) {\n      return formatMonthLabel(selectedMonth);\n    } else if (selectedMonth) {\n      return formatMonthLabel(selectedMonth);\n    } else if (selectedYear) {\n      return `Año ${selectedYear}`;\n    }\n    return '';\n  };\n\n  const formatMonthLabel = (monthString) => {\n    // Evitar problemas de zona horaria usando constructor numérico\n    const [year, month] = monthString.split('-');\n    const date = new Date(parseInt(year), parseInt(month) - 1, 1); // month es 0-indexed\n    const formatted = date.toLocaleDateString('es-AR', { \n      year: 'numeric', \n      month: 'long' \n    });\n    // Capitalizar la primera letra del mes\n    const capitalized = formatted.charAt(0).toUpperCase() + formatted.slice(1);\n    return capitalized;\n  };\n\n  // Función para formatear solo el mes (sin año) para el dropdown\n  const formatMonthOnly = (monthString) => {\n    const [year, month] = monthString.split('-');\n    const date = new Date(parseInt(year), parseInt(month) - 1, 1);\n    const formatted = date.toLocaleDateString('es-AR', { \n      month: 'long' \n    });\n    // Capitalizar la primera letra del mes\n    return formatted.charAt(0).toUpperCase() + formatted.slice(1);\n  };\n\n  // Función para obtener colores por categoría\n  const getCategoryColor = (categoryId) => {\n    const colors = [\n      { bg: 'bg-blue-100', border: 'border-blue-400', text: 'text-blue-700' },\n      { bg: 'bg-green-100', border: 'border-green-400', text: 'text-green-700' },\n      { bg: 'bg-yellow-100', border: 'border-yellow-400', text: 'text-yellow-700' },\n      { bg: 'bg-purple-100', border: 'border-purple-400', text: 'text-purple-700' },\n      { bg: 'bg-pink-100', border: 'border-pink-400', text: 'text-pink-700' },\n      { bg: 'bg-indigo-100', border: 'border-indigo-400', text: 'text-indigo-700' },\n      { bg: 'bg-cyan-100', border: 'border-cyan-400', text: 'text-cyan-700' },\n      { bg: 'bg-orange-100', border: 'border-orange-400', text: 'text-orange-700' },\n    ];\n    \n    if (!categoryId) {\n      return { bg: 'bg-gray-100', border: 'border-gray-400', text: 'text-gray-700' };\n    }\n    \n    // Usar el hash del categoryId para asignar colores consistentes\n    let hash = 0;\n    for (let i = 0; i < categoryId.length; i++) {\n      hash = categoryId.charCodeAt(i) + ((hash << 5) - hash);\n    }\n    const colorIndex = Math.abs(hash) % colors.length;\n    return colors[colorIndex];\n  };\n\n  // Usar datos de categorías pre-calculados del backend\n  const calculateCategoryData = () => {\n    if (!data.categoriesAnalytics || !data.categoriesAnalytics.length) {\n      return [];\n    }\n\n    // Los datos ya vienen del backend con cálculos completos\n    const colors = ['#009ee3', '#00a650', '#ff6900', '#e53e3e', '#6b7280', '#8b5cf6', '#f59e0b'];\n    \n    return data.categoriesAnalytics.map((category, index) => ({\n      name: category.Name,\n      value: category.Percentage,\n      amount: category.TotalAmount,\n      color: colors[index % colors.length]\n    })).filter(item => item.value > 0); // Solo mostrar categorías con gastos\n  };\n\n  // Datos simplificados del gráfico usando métricas del backend\n  const calculateChartData = () => {\n    let periodLabel = 'Total';\n    \n    if (selectedMonth && selectedYear) {\n      periodLabel = formatMonthLabel(selectedMonth);\n    } else if (selectedMonth) {\n      periodLabel = new Date(selectedMonth + '-01').toLocaleDateString('es-AR', { month: 'short' });\n    } else if (selectedYear) {\n      periodLabel = selectedYear;\n    }\n    \n    return [{\n      name: periodLabel,\n      ingresos: data.totalIncome,\n      gastos: data.totalExpenses\n    }];\n  };\n\n  // Datos para los gráficos\n  const chartData = calculateChartData();\n  const pieData = calculateCategoryData();\n\n  // Función para ordenar transacciones\n  const sortTransactions = (transactions, sortType) => {\n    const sorted = [...transactions];\n    \n    switch (sortType) {\n      case 'fecha':\n        return sorted.sort((a, b) => new Date(b.created_at) - new Date(a.created_at));\n      case 'monto':\n        return sorted.sort((a, b) => b.amount - a.amount);\n      case 'categoria':\n        return sorted.sort((a, b) => {\n          const categoryA = data.categories.find(c => c.id === a.category_id)?.name || 'Sin categoría';\n          const categoryB = data.categories.find(c => c.id === b.category_id)?.name || 'Sin categoría';\n          return categoryA.localeCompare(categoryB);\n        });\n      default:\n        return sorted;\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center h-64\">\n        <div className=\"spinner\"></div>\n        <span className=\"ml-2 text-mp-gray-600\">Cargando dashboard...</span>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Header con toggle de visibilidad y selector de mes */}\n      <div className=\"flex flex-col lg:flex-row lg:items-center lg:justify-between space-y-4 lg:space-y-0\">\n        <div className=\"flex flex-col sm:flex-row items-start sm:items-center space-y-4 sm:space-y-0 sm:space-x-4\">\n          {/* Selector de año */}\n          <div className=\"relative\">\n            <label className=\"block text-sm font-medium text-mp-gray-700 mb-2 flex items-center\">\n              <Calendar className=\"w-4 h-4 mr-2 text-mp-gray-500\" />\n              Filtrar por año\n            </label>\n            <select\n              value={selectedYear}\n              onChange={(e) => setSelectedYear(e.target.value)}\n              className=\"input w-full sm:w-auto min-w-[150px]\"\n            >\n              <option value=\"\">Todos los años</option>\n              {getAvailableYears().map(year => (\n                <option key={year} value={year}>\n                  {year}\n                </option>\n              ))}\n            </select>\n          </div>\n\n          {/* Selector de mes */}\n          <div className=\"relative\">\n            <label className=\"block text-sm font-medium text-mp-gray-700 mb-2 flex items-center\">\n              <Calendar className=\"w-4 h-4 mr-2 text-mp-gray-500\" />\n              Filtrar por mes\n            </label>\n            <select\n              value={selectedMonth}\n              onChange={(e) => setSelectedMonth(e.target.value)}\n              className=\"input w-full sm:w-auto min-w-[200px]\"\n            >\n              <option value=\"\">\n                {selectedYear ? `Todos los meses de ${selectedYear}` : 'Todos los meses'}\n              </option>\n              {getAvailableMonthsForSelect().map(month => (\n                <option key={month} value={month}>\n                  {formatMonthOnly(month)}\n                </option>\n              ))}\n            </select>\n          </div>\n\n          {/* Toggle de visibilidad */}\n          <div className=\"self-end\">\n            <button\n              onClick={() => setShowAmounts(!showAmounts)}\n              className=\"btn-ghost flex items-center space-x-2\"\n            >\n              {showAmounts ? <EyeOff className=\"w-4 h-4\" /> : <Eye className=\"w-4 h-4\" />}\n              <span>{showAmounts ? 'Ocultar' : 'Mostrar'} montos</span>\n            </button>\n          </div>\n        </div>\n      </div>\n\n\n\n      {/* Métricas principales */}\n      <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6\">\n        {/* Balance total */}\n        <div className=\"card\">\n          <div className=\"flex items-start justify-between\">\n            <div className=\"flex-1 min-w-0\">\n              <p className=\"text-sm font-medium text-mp-gray-600\">\n                Balance Total\n              </p>\n              <p className={`text-xl lg:text-2xl font-bold ${data.balance >= 0 ? 'text-mp-secondary' : 'text-mp-error'} break-words`}>\n                {formatAmount(data.balance)}\n              </p>\n            </div>\n            <div className={`flex-shrink-0 p-2 lg:p-3 rounded-mp ${data.balance >= 0 ? 'bg-green-100' : 'bg-red-100'} ml-2`}>\n              <DollarSign className={`w-5 h-5 lg:w-6 lg:h-6 ${data.balance >= 0 ? 'text-mp-secondary' : 'text-mp-error'}`} />\n            </div>\n          </div>\n          <div className=\"mt-3 flex items-center\">\n            {data.balance >= 0 ? (\n              <ArrowUpRight className=\"w-4 h-4 text-mp-secondary mr-1 flex-shrink-0\" />\n            ) : (\n              <ArrowDownRight className=\"w-4 h-4 text-mp-error mr-1 flex-shrink-0\" />\n            )}\n            <span className={`text-sm ${data.balance >= 0 ? 'text-mp-secondary' : 'text-mp-error'}`}>\n              {data.balance >= 0 ? 'Positivo' : 'Negativo'}\n            </span>\n          </div>\n        </div>\n\n        {/* Total ingresos */}\n        <div className=\"card\">\n          <div className=\"flex items-start justify-between\">\n            <div className=\"flex-1 min-w-0\">\n              <p className=\"text-sm font-medium text-mp-gray-600\">\n                Total Ingresos\n              </p>\n              <p className=\"text-xl lg:text-2xl font-bold text-mp-secondary break-words\">\n                {formatAmount(data.totalIncome)}\n              </p>\n            </div>\n            <div className=\"flex-shrink-0 p-2 lg:p-3 rounded-mp bg-green-100 ml-2\">\n              <TrendingUp className=\"w-5 h-5 lg:w-6 lg:h-6 text-mp-secondary\" />\n            </div>\n          </div>\n          <div className=\"mt-3 flex items-center\">\n            <TrendingUp className=\"w-4 h-4 text-mp-secondary mr-1 flex-shrink-0\" />\n            <span className=\"text-sm text-mp-gray-500\">\n              {data.incomes.length} {data.incomes.length === 1 ? 'ingreso' : 'ingresos'} registrados\n            </span>\n          </div>\n        </div>\n\n        {/* Total gastos */}\n        <div className=\"card\">\n          <div className=\"flex items-start justify-between\">\n            <div className=\"flex-1 min-w-0\">\n              <p className=\"text-sm font-medium text-mp-gray-600\">\n                Total Gastos\n              </p>\n              <p className=\"text-xl lg:text-2xl font-bold text-mp-accent break-words\">\n                {formatAmount(data.totalExpenses)}\n              </p>\n            </div>\n            <div className=\"flex-shrink-0 p-2 lg:p-3 rounded-mp bg-orange-100 ml-2\">\n              <TrendingDown className=\"w-5 h-5 lg:w-6 lg:h-6 text-mp-accent\" />\n            </div>\n          </div>\n          <div className=\"mt-3 flex items-center\">\n            <TrendingDown className=\"w-4 h-4 text-mp-accent mr-1 flex-shrink-0\" />\n            <span className=\"text-sm text-mp-gray-500\">\n              {data.expenses.length} {data.expenses.length === 1 ? 'gasto' : 'gastos'} registrados\n            </span>\n          </div>\n        </div>\n\n        {/* Gastos pendientes */}\n        <div className=\"card\">\n          <div className=\"flex items-start justify-between\">\n            <div className=\"flex-1 min-w-0\">\n              <p className=\"text-sm font-medium text-mp-gray-600\">\n                Gastos Pendientes\n              </p>\n              <p className=\"text-xl lg:text-2xl font-bold text-mp-error\">\n                {data.expenses.filter(e => !e.paid).length}\n              </p>\n            </div>\n            <div className=\"flex-shrink-0 p-2 lg:p-3 rounded-mp bg-red-100 ml-2\">\n              <Calendar className=\"w-5 h-5 lg:w-6 lg:h-6 text-mp-error\" />\n            </div>\n          </div>\n          <div className=\"mt-3\">\n            <span className=\"text-sm text-mp-gray-500\">\n              {formatAmount(data.expenses.filter(e => !e.paid).reduce((sum, e) => sum + e.amount, 0))} por pagar\n            </span>\n          </div>\n        </div>\n      </div>\n\n      {/* Transacciones por mes - Dos columnas */}\n      {hasActiveFilters && (data.expenses.length > 0 || data.incomes.length > 0) && (\n        <div className=\"card\">\n          <div className=\"flex items-center justify-between mb-6\">\n            <h3 className=\"text-lg font-semibold text-mp-gray-900\">\n              💰 Transacciones de {getPeriodTitle()}\n            </h3>\n            <div className=\"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0\">\n              {/* Dropdown de ordenamiento */}\n              <div className=\"flex items-center space-x-2\">\n                <label className=\"text-sm font-medium text-mp-gray-600\">Ordenar por:</label>\n                <select\n                  value={sortBy}\n                  onChange={(e) => setSortBy(e.target.value)}\n                  className=\"text-sm border border-mp-gray-300 rounded-mp px-3 py-1 focus:outline-none focus:ring-2 focus:ring-mp-primary focus:border-transparent\"\n                >\n                  <option value=\"fecha\">Fecha</option>\n                  <option value=\"monto\">Monto</option>\n                  <option value=\"categoria\">Categoría</option>\n                </select>\n              </div>\n              \n              {/* Indicadores de cantidad */}\n              <div className=\"flex items-center space-x-4 text-sm\">\n                <div className=\"flex items-center\">\n                  <div className=\"w-3 h-3 bg-mp-error rounded-full mr-2\"></div>\n                  <span className=\"text-mp-gray-600\">Gastos ({data.expenses.length})</span>\n                </div>\n                <div className=\"flex items-center\">\n                  <div className=\"w-3 h-3 bg-mp-secondary rounded-full mr-2\"></div>\n                  <span className=\"text-mp-gray-600\">Ingresos ({data.incomes.length})</span>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"relative grid grid-cols-1 md:grid-cols-2 gap-4 lg:gap-6 xl:gap-8\">\n            {/* Columna de Gastos */}\n            <div className=\"space-y-4\">\n              <div className=\"space-y-3 mb-4\">\n                <div className=\"flex items-center justify-between\">\n                  <h4 className=\"font-semibold text-mp-error flex items-center\">\n                    <TrendingDown className=\"w-5 h-5 mr-2\" />\n                    Gastos\n                  </h4>\n                  <span className=\"text-lg font-bold text-mp-error\">\n                    {formatAmount(data.totalExpenses)}\n                  </span>\n                </div>\n                \n                {/* Filtros de gastos */}\n                <div className=\"flex flex-col sm:flex-row gap-2\">\n                  <div className=\"flex-1\">\n                    <select\n                      value={selectedYear}\n                      onChange={(e) => setSelectedYear(e.target.value)}\n                      className=\"input w-full text-sm\"\n                    >\n                      <option value=\"\">Todos los años</option>\n                      {getAvailableYears().map(year => (\n                        <option key={year} value={year}>\n                          {year}\n                        </option>\n                      ))}\n                    </select>\n                  </div>\n                  <div className=\"flex-1\">\n                    <select\n                      value={selectedMonth}\n                      onChange={(e) => setSelectedMonth(e.target.value)}\n                      className=\"input w-full text-sm\"\n                    >\n                      <option value=\"\">\n                        {selectedYear ? `Todo ${selectedYear}` : 'Todos los meses'}\n                      </option>\n                      {getAvailableMonthsForSelect().map(month => (\n                        <option key={month} value={month}>\n                          {formatMonthOnly(month)}\n                        </option>\n                      ))}\n                    </select>\n                  </div>\n                </div>\n              </div>\n              \n              <div className=\"space-y-3 max-h-96 overflow-y-auto\">\n                {data.expenses.length === 0 ? (\n                  <div className=\"text-center py-8 text-mp-gray-500\">\n                    <TrendingDown className=\"w-8 h-8 mx-auto mb-2 opacity-50\" />\n                    <p>No hay gastos en este período</p>\n                  </div>\n                ) : (\n                  sortTransactions(data.expenses, sortBy)\n                    .map((expense, index) => {\n                      const category = data.categories.find(c => c.id === expense.category_id);\n                      const color = getCategoryColor(expense.category_id);\n                      return (\n                        <div key={expense.id || index} className={`flex items-center justify-between p-3 rounded-mp bg-white border border-mp-gray-100 hover:shadow-sm transition-shadow`}>\n                          <div className=\"flex items-start space-x-3\">\n                            {/* Indicador de pago */}\n                            <div className=\"flex-shrink-0 mt-1\">\n                              {expense.paid ? (\n                                <CheckCircle className=\"w-5 h-5 text-mp-secondary\" />\n                              ) : (\n                                <XCircle className=\"w-5 h-5 text-mp-error\" />\n                              )}\n                            </div>\n                            \n                            <div className=\"flex-1\">\n                              <div className=\"flex items-center space-x-2\">\n                                <p className=\"font-medium text-mp-gray-900 text-sm\">\n                                  {expense.description}\n                                </p>\n                                {!expense.paid && (\n                                  <span className=\"badge-error text-xs\">Pendiente</span>\n                                )}\n                                {category && (\n                                  <span className={`px-2 py-1 rounded text-xs font-medium ${color.bg} ${color.text} border ${color.border}`}>\n                                    {category.name}\n                                  </span>\n                                )}\n                              </div>\n                              <p className=\"text-xs text-mp-gray-500 mt-1\">\n                                {new Date(expense.created_at).toLocaleDateString('es-AR')}\n                                {expense.due_date && (\n                                  <span className=\"ml-2\">\n                                    • Vence: {new Date(expense.due_date).toLocaleDateString('es-AR')}\n                                  </span>\n                                )}\n                              </p>\n                            </div>\n                          </div>\n                          <div className=\"text-right ml-3\">\n                            <p className=\"font-semibold text-mp-error\">\n                              -{formatAmount(expense.amount)}\n                            </p>\n                            {expense.percentage && (\n                              <p className=\"text-xs text-mp-gray-500\">\n                                {formatPercentage(expense.percentage)} del total\n                              </p>\n                            )}\n                            {expense.amount_paid > 0 && expense.amount_paid < expense.amount && (\n                              <p className=\"text-xs text-mp-gray-500\">\n                                Pagado: {formatAmount(expense.amount_paid)}\n                              </p>\n                            )}\n                          </div>\n                        </div>\n                      );\n                    })\n                )}\n              </div>\n            </div>\n\n            {/* Separador vertical - Solo visible en desktop */}\n            <div className=\"hidden lg:block absolute left-1/2 top-4 bottom-4 w-px bg-gradient-to-b from-transparent via-mp-gray-200 to-transparent transform -translate-x-1/2\"></div>\n\n            {/* Columna de Ingresos */}\n            <div className=\"space-y-4\">\n              <div className=\"space-y-3 mb-4\">\n                <div className=\"flex items-center justify-between\">\n                  <h4 className=\"font-semibold text-mp-secondary flex items-center\">\n                    <TrendingUp className=\"w-5 h-5 mr-2\" />\n                    Ingresos\n                  </h4>\n                  <span className=\"text-lg font-bold text-mp-secondary\">\n                    {formatAmount(data.totalIncome)}\n                  </span>\n                </div>\n                \n                {/* Filtros de ingresos */}\n                <div className=\"flex flex-col sm:flex-row gap-2\">\n                  <div className=\"flex-1\">\n                    <select\n                      value={selectedYear}\n                      onChange={(e) => setSelectedYear(e.target.value)}\n                      className=\"input w-full text-sm\"\n                    >\n                      <option value=\"\">Todos los años</option>\n                      {getAvailableYears().map(year => (\n                        <option key={year} value={year}>\n                          {year}\n                        </option>\n                      ))}\n                    </select>\n                  </div>\n                  <div className=\"flex-1\">\n                    <select\n                      value={selectedMonth}\n                      onChange={(e) => setSelectedMonth(e.target.value)}\n                      className=\"input w-full text-sm\"\n                    >\n                      <option value=\"\">\n                        {selectedYear ? `Todo ${selectedYear}` : 'Todos los meses'}\n                      </option>\n                      {getAvailableMonthsForSelect().map(month => (\n                        <option key={month} value={month}>\n                          {formatMonthOnly(month)}\n                        </option>\n                      ))}\n                    </select>\n                  </div>\n                </div>\n              </div>\n              \n              <div className=\"space-y-3 max-h-96 overflow-y-auto\">\n                {data.incomes.length === 0 ? (\n                  <div className=\"text-center py-8 text-mp-gray-500\">\n                    <TrendingUp className=\"w-8 h-8 mx-auto mb-2 opacity-50\" />\n                    <p>No hay ingresos en este período</p>\n                  </div>\n                ) : (\n                  sortTransactions(data.incomes, sortBy)\n                    .map((income, index) => {\n                      const color = getCategoryColor(income.category_id);\n                      const category = data.categories.find(c => c.id === income.category_id);\n                      return (\n                        <div key={income.id || index} className={`flex items-center justify-between p-3 rounded-mp bg-white border border-mp-gray-100 hover:shadow-sm transition-shadow`}>\n                          <div className=\"flex-1\">\n                            <div className=\"flex items-center space-x-2\">\n                              <p className=\"font-medium text-mp-gray-900 text-sm\">\n                                {income.description}\n                              </p>\n                              {category && (\n                                <span className={`px-2 py-1 rounded text-xs font-medium ${color.bg} ${color.text} border ${color.border}`}>\n                                  {category.name}\n                                </span>\n                              )}\n                            </div>\n                            <p className=\"text-xs text-mp-gray-500 mt-1\">\n                              {new Date(income.created_at).toLocaleDateString('es-AR')}\n                            </p>\n                          </div>\n                          <div className=\"text-right ml-3\">\n                            <p className=\"font-semibold text-mp-secondary\">\n                              +{formatAmount(income.amount)}\n                            </p>\n                            {income.percentage && (\n                              <p className=\"text-xs text-mp-gray-500\">\n                                {formatPercentage(income.percentage)}\n                              </p>\n                            )}\n                          </div>\n                        </div>\n                      );\n                    })\n                )}\n              </div>\n            </div>\n          </div>\n\n          {/* Resumen de totales del período */}\n          {(data.expenses.length > 0 || data.incomes.length > 0) && (\n            <div className=\"mt-6 pt-4 border-t border-mp-gray-200\">\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4\">\n                {/* Total gastos */}\n                <div className=\"flex items-center justify-between\">\n                  <span className=\"font-medium text-mp-gray-600\">Total gastos:</span>\n                  <div className=\"text-right\">\n                    <div className=\"font-bold text-mp-error\">\n                      {formatAmount(data.totalExpenses)}\n                    </div>\n                    {data.totalIncome > 0 && (\n                      <div className=\"text-xs text-mp-gray-500\">\n                        {((data.totalExpenses / data.totalIncome) * 100).toFixed(1)}% de ingresos\n                      </div>\n                    )}\n                  </div>\n                </div>\n\n                {/* Total ingresos */}\n                <div className=\"flex items-center justify-between\">\n                  <span className=\"font-medium text-mp-gray-600\">Total ingresos:</span>\n                  <div className=\"text-right\">\n                    <div className=\"font-bold text-mp-secondary\">\n                      {formatAmount(data.totalIncome)}\n                    </div>\n                    <div className=\"text-xs text-mp-gray-500\">\n                      100% base\n                    </div>\n                  </div>\n                </div>\n              </div>\n              \n              {/* Balance del período */}\n              <div className=\"flex items-center justify-between pt-3 border-t border-mp-gray-200\">\n                <span className=\"text-mp-gray-600\">Balance del período:</span>\n                <span className={`text-xl font-bold ${data.balance >= 0 ? 'text-mp-secondary' : 'text-mp-error'}`}>\n                  {data.balance >= 0 ? '+' : ''}{formatAmount(data.balance)}\n                </span>\n              </div>\n            </div>\n          )}\n        </div>\n      )}\n\n      {/* Gráficos */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 lg:gap-6\">\n        {/* Gráfico de tendencias */}\n        <div className=\"card\">\n          <div className=\"flex items-center justify-between mb-6\">\n            <div>\n              <h3 className=\"text-lg font-semibold text-mp-gray-900\">\n                {hasActiveFilters ? `Datos de ${getPeriodTitle()}` : 'Tendencia Mensual'}\n              </h3>\n              <p className=\"text-sm text-mp-gray-500 mt-1\">\n                {hasActiveFilters \n                  ? 'Resumen del período seleccionado' \n                  : 'Datos del mes actual (histórico próximamente)'\n                }\n              </p>\n            </div>\n            <div className=\"flex flex-wrap items-center gap-4 text-sm\">\n              <div className=\"flex items-center\">\n                <div className=\"w-3 h-3 bg-mp-secondary rounded-full mr-2\"></div>\n                <span className=\"text-mp-gray-600\">Ingresos</span>\n              </div>\n              <div className=\"flex items-center\">\n                <div className=\"w-3 h-3 bg-mp-accent rounded-full mr-2\"></div>\n                <span className=\"text-mp-gray-600\">Gastos</span>\n              </div>\n            </div>\n          </div>\n          <ResponsiveContainer width=\"100%\" height={250}>\n            <AreaChart data={chartData}>\n              <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#e5e7eb\" />\n              <XAxis dataKey=\"name\" stroke=\"#6b7280\" />\n              <YAxis stroke=\"#6b7280\" />\n              <Tooltip \n                formatter={(value) => [formatCurrency(value)]}\n                contentStyle={{\n                  backgroundColor: 'white',\n                  border: '1px solid #e5e7eb',\n                  borderRadius: '8px',\n                  boxShadow: '0 4px 12px 0 rgba(0, 0, 0, 0.15)',\n                }}\n              />\n              <Area\n                type=\"monotone\"\n                dataKey=\"ingresos\"\n                stackId=\"1\"\n                stroke=\"#00a650\"\n                fill=\"#00a650\"\n                fillOpacity={0.6}\n              />\n              <Area\n                type=\"monotone\"\n                dataKey=\"gastos\"\n                stackId=\"2\"\n                stroke=\"#ff6900\"\n                fill=\"#ff6900\"\n                fillOpacity={0.6}\n              />\n            </AreaChart>\n          </ResponsiveContainer>\n        </div>\n\n        {/* Gráfico de categorías */}\n        <div className=\"card\">\n          <h3 className=\"text-lg font-semibold text-mp-gray-900 mb-6\">\n            Gastos por Categoría{hasActiveFilters && ` - ${getPeriodTitle()}`}\n          </h3>\n          {pieData.length > 0 ? (\n            <div className=\"flex items-center justify-center\">\n              <ResponsiveContainer width=\"100%\" height={250}>\n                <RechartsPieChart>\n                  <Pie\n                    data={pieData}\n                    cx=\"50%\"\n                    cy=\"50%\"\n                    innerRadius={60}\n                    outerRadius={120}\n                    paddingAngle={5}\n                    dataKey=\"value\"\n                    label={({ name, value }) => `${name}: ${value}%`}\n                    labelLine={false}\n                  >\n                    {pieData.map((entry, index) => (\n                      <Cell key={`cell-${index}`} fill={entry.color} />\n                    ))}\n                  </Pie>\n                  <Tooltip \n                    formatter={(value, name, props) => [\n                      `${value}% (${formatCurrency(props.payload.amount)})`, \n                      'Porcentaje'\n                    ]}\n                    contentStyle={{\n                      backgroundColor: 'white',\n                      border: '1px solid #e5e7eb',\n                      borderRadius: '8px',\n                      boxShadow: '0 4px 12px 0 rgba(0, 0, 0, 0.15)',\n                    }}\n                  />\n                </RechartsPieChart>\n              </ResponsiveContainer>\n            </div>\n          ) : (\n            <div className=\"flex flex-col items-center justify-center h-64 text-center\">\n              <PieChart className=\"w-12 h-12 text-mp-gray-400 mb-4\" />\n              <h4 className=\"text-lg font-medium text-mp-gray-600 mb-2\">No hay gastos por categorías</h4>\n              <p className=\"text-sm text-mp-gray-500\">\n                Los gastos aparecerán aquí una vez que agregues algunos gastos con categorías\n              </p>\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* Transacciones recientes */}\n      <div className=\"card\">\n        <div className=\"flex items-center justify-between mb-6\">\n          <h3 className=\"text-lg font-semibold text-mp-gray-900\">Transacciones Recientes</h3>\n          <button className=\"btn-ghost\">Ver todas</button>\n        </div>\n        <div className=\"space-y-4\">\n          {[...data.expenses.slice(0, 3), ...data.incomes.slice(0, 2)]\n            .sort((a, b) => new Date(b.created_at) - new Date(a.created_at))\n            .slice(0, 5)\n            .map((transaction, index) => {\n              const isExpense = transaction.hasOwnProperty('paid');\n              const color = getCategoryColor(transaction.category_id);\n              const category = data.categories.find(c => c.id === transaction.category_id);\n              return (\n                <div key={index} className={`flex items-center justify-between p-4 rounded-mp bg-mp-gray-50 border-l-4 ${color.border || (isExpense ? 'border-mp-error' : 'border-mp-secondary')}`}>\n                  <div className=\"flex items-center space-x-3\">\n                    <div className={`p-2 rounded-mp ${isExpense ? 'bg-red-100' : 'bg-green-100'}`}>\n                      {isExpense ? (\n                        <TrendingDown className=\"w-4 h-4 text-mp-error\" />\n                      ) : (\n                        <TrendingUp className=\"w-4 h-4 text-mp-secondary\" />\n                      )}\n                    </div>\n                    <div className=\"flex-1\">\n                      <div className=\"flex items-center space-x-2\">\n                        <p className=\"font-medium text-mp-gray-900\">{transaction.description}</p>\n                        {/* Indicador de pago solo para gastos */}\n                        {isExpense && (\n                          <div className=\"flex items-center space-x-1\">\n                            {transaction.paid ? (\n                              <CheckCircle className=\"w-4 h-4 text-mp-secondary\" />\n                            ) : (\n                              <XCircle className=\"w-4 h-4 text-mp-error\" />\n                            )}\n                            {!transaction.paid && (\n                              <span className=\"badge-error text-xs\">Pendiente</span>\n                            )}\n                          </div>\n                        )}\n                        {/* Badge de categoría */}\n                        {category && (\n                          <span className={`px-2 py-1 rounded text-xs font-medium ${color.bg} ${color.text} border ${color.border}`}>\n                            {category.name}\n                          </span>\n                        )}\n                      </div>\n                      <p className=\"text-sm text-mp-gray-500\">\n                        {new Date(transaction.created_at).toLocaleDateString('es-AR')}\n                      </p>\n                    </div>\n                  </div>\n                  <div className=\"text-right\">\n                    <p className={`font-semibold ${isExpense ? 'text-mp-error' : 'text-mp-secondary'}`}>\n                      {isExpense ? '-' : '+'}{formatAmount(transaction.amount)}\n                    </p>\n                    {transaction.percentage && (\n                      <p className=\"text-sm text-mp-gray-500\">\n                        {formatPercentage(transaction.percentage)} del total\n                      </p>\n                    )}\n                  </div>\n                </div>\n              );\n            })}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Dashboard; "],"names":["api","axios","create","baseURL","process","REACT_APP_API_URL","timeout","headers","MOCK_USER_ID","interceptors","request","use","config","error","Promise","reject","response","_error$response","_error$response$data","_error$response2","_error$response3","_error$response4","message","data","status","toast","categoriesAPI","list","get","id","concat","post","_objectSpread","user_id","update","patch","delete","expensesAPI","listUnpaid","userId","arguments","length","undefined","incomesAPI","reportsAPI","generate","startDate","endDate","params","start_date","end_date","dashboardAPI","overview","analyticsAPI","expenses","incomes","categories","formatCurrency","amount","Intl","NumberFormat","style","currency","format","formatPercentage","percentage","toFixed","Dashboard","loading","setLoading","useState","showAmounts","setShowAmounts","selectedMonth","setSelectedMonth","selectedYear","setSelectedYear","sortBy","setSortBy","setData","totalIncome","totalExpenses","balance","useEffect","loadDashboardData","getAvailableMonthsForSelect","includes","_data$expenses$","_data$incomes$","availableMonths","getAvailableMonths","months","Set","forEach","item","created_at","date","Date","month","toISOString","slice","console","log","toLocaleDateString","year","add","currentMonth","Array","from","sort","reverse","itemYear","getFullYear","toString","currentDate","currentYear","getAvailableYears","years","async","filterParams","split","_oldCategoriesRespons","_dashboard$Metrics","_dashboard$Metrics2","_dashboard$Metrics3","dashboardResponse","expensesResponse","categoriesResponse","oldCategoriesResponse","all","order","limit","dashboard","expensesData","categoriesData","categoriesForDropdown","Metrics","TotalIncome","TotalExpenses","Balance","Expenses","isArray","dashboardMetrics","expensesSummary","Summary","categoriesAnalytics","Categories","newEndpointsError","_expensesResponse$dat","_incomesResponse$data","_categoriesResponse$d","warn","incomesResponse","incomesData","filteredExpenses","filterDataByMonthAndYear","filteredIncomes","reduce","sum","expense","income","formatAmount","dataArray","monthFilter","yearFilter","hasActiveFilters","filter","itemDate","getPeriodTitle","formatMonthLabel","monthString","formatted","parseInt","charAt","toUpperCase","formatMonthOnly","getCategoryColor","categoryId","colors","bg","border","text","hash","i","charCodeAt","Math","abs","chartData","calculateChartData","periodLabel","name","ingresos","gastos","pieData","calculateCategoryData","map","category","index","Name","value","Percentage","TotalAmount","color","sortTransactions","transactions","sortType","sorted","a","b","_data$categories$find","_data$categories$find2","categoryA","find","c","category_id","categoryB","localeCompare","_jsxs","className","children","_jsx","Calendar","onChange","e","target","onClick","EyeOff","Eye","DollarSign","ArrowUpRight","ArrowDownRight","TrendingUp","TrendingDown","paid","CheckCircle","XCircle","description","due_date","amount_paid","ResponsiveContainer","width","height","AreaChart","CartesianGrid","strokeDasharray","stroke","XAxis","dataKey","YAxis","Tooltip","formatter","contentStyle","backgroundColor","borderRadius","boxShadow","Area","type","stackId","fill","fillOpacity","RechartsPieChart","Pie","cx","cy","innerRadius","outerRadius","paddingAngle","label","_ref","labelLine","entry","Cell","props","payload","PieChart","transaction","isExpense","hasOwnProperty"],"sourceRoot":""}