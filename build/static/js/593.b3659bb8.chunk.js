/*! For license information please see 593.b3659bb8.chunk.js.LICENSE.txt */
"use strict";(self.webpackChunkfinancial_resume_frontend=self.webpackChunkfinancial_resume_frontend||[]).push([[593],{1360:(e,t,a)=>{a.d(t,{A:()=>s});const s=(0,a(8995).A)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},4505:(e,t,a)=>{a.d(t,{Ee:()=>h,Yq:()=>x,_2:()=>m,fm:()=>o,rh:()=>g,sh:()=>d,t_:()=>l,vv:()=>p,zZ:()=>u});var s=a(2555),r=a(9722),n=a(3768);const i=r.A.create({baseURL:{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_API_URL||"http://localhost:8080/api/v1",timeout:1e4,headers:{"Content-Type":"application/json"}}),c="user123";i.interceptors.request.use((e=>(e.headers["x-caller-id"]=c,e)),(e=>Promise.reject(e))),i.interceptors.response.use((e=>e),(e=>{var t,a,s,r,i;const c=(null===(t=e.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.error)||e.message||"Error desconocido";return 401===(null===(s=e.response)||void 0===s?void 0:s.status)?n.Ay.error("No autorizado"):404===(null===(r=e.response)||void 0===r?void 0:r.status)?n.Ay.error("Recurso no encontrado"):(null===(i=e.response)||void 0===i?void 0:i.status)>=500?n.Ay.error("Error del servidor"):n.Ay.error(c),Promise.reject(e)}));const o={list:()=>i.get("/categories"),get:e=>i.get("/categories/".concat(e)),create:e=>i.post("/categories",(0,s.A)((0,s.A)({},e),{},{user_id:c})),update:(e,t)=>i.patch("/categories/".concat(e),(0,s.A)((0,s.A)({},t),{},{user_id:c})),delete:e=>i.delete("/categories/".concat(e))},d={list:()=>i.get("/expenses"),listUnpaid:()=>i.get("/expenses/unpaid"),get:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;return i.get("/expenses/".concat(e,"/").concat(t))},create:e=>i.post("/expenses",(0,s.A)((0,s.A)({},e),{},{user_id:c})),update:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0;return i.patch("/expenses/".concat(e,"/").concat(t),(0,s.A)((0,s.A)({},a),{},{user_id:c}))},delete:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;return i.delete("/expenses/".concat(e,"/").concat(t))}},l={list:()=>i.get("/incomes"),get:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;return i.get("/incomes/".concat(e,"/").concat(t))},create:e=>i.post("/incomes",(0,s.A)((0,s.A)({},e),{},{user_id:c})),update:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0;return i.patch("/incomes/".concat(e,"/").concat(t),(0,s.A)((0,s.A)({},a),{},{user_id:c}))},delete:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;return i.delete("/incomes/".concat(e,"/").concat(t))}},m={generate:(e,t)=>i.get("/reports",{params:{start_date:e,end_date:t}})},u={overview:e=>i.get("/dashboard",{params:e})},g={expenses:e=>i.get("/expenses/summary",{params:e}),incomes:e=>i.get("/incomes/summary",{params:e}),categories:e=>i.get("/categories/analytics",{params:e})},p=e=>{const t=Number(e);return isNaN(t)||null===e||void 0===e?"$0,00":new Intl.NumberFormat("es-AR",{style:"currency",currency:"ARS"}).format(t)},x=e=>{if(!e||null===e||void 0===e)return"Fecha no disponible";const t=new Date(e);return isNaN(t.getTime())?"Fecha inv\xe1lida":new Intl.DateTimeFormat("es-AR",{year:"numeric",month:"long",day:"numeric"}).format(t)},h=e=>{const t=Number(e);return isNaN(t)||null===e||void 0===e?"0.0%":"".concat(t.toFixed(1),"%")}},6533:(e,t,a)=>{a.d(t,{A:()=>s});const s=(0,a(8995).A)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]])},7593:(e,t,a)=>{a.r(t),a.d(t,{default:()=>h});var s=a(2555),r=a(5043),n=a(7950),i=a(4919),c=a(9292),o=a(1360),d=a(6533),l=a(9855),m=a(4505),u=a(8651),g=a(4957),p=a(3768),x=a(579);const h=()=>{const[e,t]=(0,r.useState)([]),[a,h]=(0,r.useState)([]),[y,v]=(0,r.useState)(!0),[f,_]=(0,r.useState)(!1),[N,j]=(0,r.useState)(null),[A,b]=(0,r.useState)(""),[w,T]=(0,r.useState)({description:"",amount:"",category_id:""}),{selectedYear:S,selectedMonth:k,balancesHidden:C}=(0,g.P)(),E=e=>C?"\u2022\u2022\u2022\u2022\u2022\u2022":(0,m.vv)(e),P=r.useCallback((async()=>{try{var e,a;v(!0);const[s,r]=await Promise.all([m.t_.list(),m.fm.list()]),n=(null===(e=s.data)||void 0===e?void 0:e.incomes)||s.data||[],i=(null===(a=r.data)||void 0===a?void 0:a.data)||r.data||[];t(Array.isArray(n)?n:[]),h(Array.isArray(i)?i:[])}catch(s){console.warn("\u26a0\ufe0f API no disponible, usando datos mock:",s.message),await(0,u.uT)(300),t(u.No),h(u.zA),p.Ay.success("\ud83d\udea7 Usando datos de ejemplo (backend no disponible)",{duration:2e3})}finally{v(!1)}}),[]);(0,r.useEffect)((()=>{P()}),[P]);const I=Array.isArray(e)?e.filter((e=>{const t=e.description.toLowerCase().includes(A.toLowerCase()),a=new Date(e.created_at),s=!S||a.getFullYear().toString()===S,r=!k||e.created_at.slice(0,7)===k;return t&&s&&r})):[],Z=I.reduce(((e,t)=>e+t.amount),0);return y?(0,x.jsxs)("div",{className:"flex items-center justify-center h-64",children:[(0,x.jsx)("div",{className:"spinner"}),(0,x.jsx)("span",{className:"ml-2 text-fr-gray-600",children:"Cargando ingresos..."})]}):(0,x.jsxs)("div",{className:"space-y-6",children:[(0,x.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,x.jsx)("div",{className:"card",children:(0,x.jsxs)("div",{className:"flex items-center justify-between",children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("p",{className:"text-sm font-medium text-fr-gray-600",children:"Total Ingresos"}),(0,x.jsx)("p",{className:"text-2xl font-bold text-fr-secondary",children:E(Z)})]}),(0,x.jsx)("div",{className:"p-3 rounded-fr bg-green-100",children:(0,x.jsx)(i.A,{className:"w-6 h-6 text-fr-secondary"})})]})}),(0,x.jsx)("div",{className:"card",children:(0,x.jsxs)("div",{className:"flex items-center justify-between",children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("p",{className:"text-sm font-medium text-fr-gray-600",children:"Cantidad de Ingresos"}),(0,x.jsx)("p",{className:"text-2xl font-bold text-fr-secondary",children:I.length})]}),(0,x.jsx)("div",{className:"p-3 rounded-fr bg-green-100",children:(0,x.jsx)(i.A,{className:"w-6 h-6 text-fr-secondary"})})]})})]}),(0,x.jsx)("div",{className:"card",children:(0,x.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[(0,x.jsx)("div",{className:"flex flex-col lg:flex-row space-y-4 lg:space-y-0 lg:space-x-4",children:(0,x.jsxs)("div",{className:"relative",children:[(0,x.jsx)(c.A,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-fr-gray-400"}),(0,x.jsx)("input",{type:"text",placeholder:"Buscar ingresos...",value:A,onChange:e=>b(e.target.value),className:"pl-10 input w-full sm:w-64"})]})}),(0,x.jsxs)("button",{onClick:()=>_(!0),className:"btn-secondary flex items-center space-x-2",children:[(0,x.jsx)(o.A,{className:"w-4 h-4"}),(0,x.jsx)("span",{children:"Nuevo Ingreso"})]})]})}),(0,x.jsx)("div",{className:"card",children:(0,x.jsx)("div",{className:"space-y-4",children:0===I.length?(0,x.jsxs)("div",{className:"text-center py-12",children:[(0,x.jsx)(i.A,{className:"w-12 h-12 text-fr-gray-400 mx-auto mb-4"}),(0,x.jsx)("h3",{className:"text-lg font-medium text-fr-gray-900 mb-2",children:"No hay ingresos"}),(0,x.jsx)("p",{className:"text-fr-gray-500",children:"Comienza agregando tu primer ingreso"})]}):I.map((e=>{const t=a.find((t=>t.id===e.category_id));return(0,x.jsxs)("div",{className:"flex items-center justify-between p-4 rounded-fr bg-fr-gray-50 hover:bg-fr-gray-100 transition-colors",children:[(0,x.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,x.jsx)("div",{className:"p-2 rounded-fr bg-green-100",children:(0,x.jsx)(i.A,{className:"w-5 h-5 text-fr-secondary"})}),(0,x.jsxs)("div",{className:"flex-1",children:[(0,x.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,x.jsx)("h3",{className:"font-medium text-fr-gray-900",children:e.description}),t&&(0,x.jsx)("span",{className:"badge-info",children:t.name})]}),(0,x.jsxs)("div",{className:"text-sm text-fr-gray-500 mt-1",children:["Creado: ",new Date(e.created_at).toLocaleDateString("es-AR")]})]})]}),(0,x.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,x.jsx)("div",{className:"text-right",children:(0,x.jsxs)("p",{className:"font-semibold text-fr-secondary text-lg",children:["+",E(e.amount)]})}),(0,x.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,x.jsx)("button",{onClick:()=>(e=>{j(e),T({description:e.description,amount:e.amount.toString(),category_id:e.category_id||""}),_(!0)})(e),className:"p-2 rounded-fr text-fr-gray-600 hover:bg-fr-gray-200 transition-colors",children:(0,x.jsx)(d.A,{className:"w-4 h-4"})}),(0,x.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("\xbfEst\xe1s seguro de que quieres eliminar este ingreso?"))try{await m.t_.delete(e.user_id,e.id),p.Ay.success("Ingreso eliminado correctamente"),P()}catch(t){p.Ay.error("Error al eliminar el ingreso")}})(e),className:"p-2 rounded-fr text-fr-error hover:bg-red-100 transition-colors",children:(0,x.jsx)(l.A,{className:"w-4 h-4"})})]})]})]},e.id)}))})}),f&&(0,n.createPortal)((0,x.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,x.jsxs)("div",{className:"bg-white rounded-fr-lg max-w-md w-full p-6",children:[(0,x.jsx)("h2",{className:"text-xl font-bold text-fr-gray-900 mb-6",children:N?"Editar Ingreso":"Nuevo Ingreso"}),(0,x.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=(0,s.A)((0,s.A)({},w),{},{amount:parseFloat(w.amount)});N?(await m.t_.update(N.user_id,N.id,e),p.Ay.success("Ingreso actualizado correctamente")):(await m.t_.create(e),p.Ay.success("Ingreso creado correctamente")),_(!1),j(null),T({description:"",amount:"",category_id:""}),P()}catch(t){p.Ay.error("Error al guardar el ingreso")}},className:"space-y-4",children:[(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{className:"block text-sm font-medium text-fr-gray-700 mb-2",children:"Descripci\xf3n"}),(0,x.jsx)("input",{type:"text",value:w.description,onChange:e=>T((0,s.A)((0,s.A)({},w),{},{description:e.target.value})),className:"input",required:!0})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{className:"block text-sm font-medium text-fr-gray-700 mb-2",children:"Monto"}),(0,x.jsx)("input",{type:"number",step:"0.01",value:w.amount,onChange:e=>T((0,s.A)((0,s.A)({},w),{},{amount:e.target.value})),className:"input",required:!0})]}),(0,x.jsxs)("div",{children:[(0,x.jsx)("label",{className:"block text-sm font-medium text-fr-gray-700 mb-2",children:"Categor\xeda"}),(0,x.jsxs)("select",{value:w.category_id,onChange:e=>T((0,s.A)((0,s.A)({},w),{},{category_id:e.target.value})),className:"input",children:[(0,x.jsx)("option",{value:"",children:"Seleccionar categor\xeda"}),a.map((e=>(0,x.jsx)("option",{value:e.id,children:e.name},e.id)))]})]}),(0,x.jsxs)("div",{className:"flex space-x-4 pt-4",children:[(0,x.jsx)("button",{type:"button",onClick:()=>{_(!1),j(null),T({description:"",amount:"",category_id:""})},className:"btn-outline flex-1",children:"Cancelar"}),(0,x.jsx)("button",{type:"submit",className:"btn-secondary flex-1",children:N?"Actualizar":"Crear"})]})]})]})}),document.body)]})}},8651:(e,t,a)=>{a.d(t,{NK:()=>o,No:()=>i,UI:()=>n,uT:()=>d,zA:()=>r,zj:()=>c});var s=a(2555);const r=[{id:1,name:"Alimentaci\xf3n",description:"Gastos en comida y bebidas",user_id:"user123"},{id:2,name:"Transporte",description:"Gastos en movilidad",user_id:"user123"},{id:3,name:"Entretenimiento",description:"Gastos en ocio y diversi\xf3n",user_id:"user123"},{id:4,name:"Salario",description:"Ingresos por trabajo",user_id:"user123"},{id:5,name:"Servicios",description:"Gastos en servicios p\xfablicos",user_id:"user123"}],n=[{id:1,user_id:"user123",description:"Supermercado",amount:12500,category_id:1,due_date:"2025-01-20",paid:!1,created_at:"2025-01-15T10:00:00Z",updated_at:"2025-01-15T10:00:00Z"},{id:2,user_id:"user123",description:"Uber",amount:3200,category_id:2,due_date:null,paid:!0,created_at:"2025-01-14T15:30:00Z",updated_at:"2025-01-14T15:30:00Z"},{id:3,user_id:"user123",description:"Netflix",amount:2800,category_id:3,due_date:"2025-01-25",paid:!0,created_at:"2025-01-12T09:15:00Z",updated_at:"2025-01-12T09:15:00Z"},{id:4,user_id:"user123",description:"Luz y Gas",amount:8500,category_id:5,due_date:"2025-01-30",paid:!1,created_at:"2025-01-10T12:00:00Z",updated_at:"2025-01-10T12:00:00Z"}],i=[{id:1,user_id:"user123",description:"Salario Enero",amount:25e4,category_id:4,created_at:"2025-01-01T08:00:00Z",updated_at:"2025-01-01T08:00:00Z"},{id:2,user_id:"user123",description:"Freelance - Proyecto Web",amount:45e3,category_id:4,created_at:"2025-01-10T14:00:00Z",updated_at:"2025-01-10T14:00:00Z"}],c={balance:268e3,totalIncome:295e3,totalExpenses:27e3,expenses:n,incomes:i,categories:r,categoriesAnalytics:[{Name:"Alimentaci\xf3n",TotalAmount:12500,Percentage:46.3,category_id:1},{Name:"Servicios",TotalAmount:8500,Percentage:31.5,category_id:5},{Name:"Transporte",TotalAmount:3200,Percentage:11.9,category_id:2},{Name:"Entretenimiento",TotalAmount:2800,Percentage:10.4,category_id:3}]},o={total_income:295e3,total_expenses:27e3,transactions:[...n,...i.map((e=>(0,s.A)((0,s.A)({},e),{},{type:"income"})))],category_summary:[{category_name:"Alimentaci\xf3n",total_amount:12500,percentage:46.3,category_id:1},{category_name:"Servicios",total_amount:8500,percentage:31.5,category_id:5},{category_name:"Transporte",total_amount:3200,percentage:11.9,category_id:2},{category_name:"Entretenimiento",total_amount:2800,percentage:10.4,category_id:3}]},d=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:500;return new Promise((t=>setTimeout(t,e)))}},9855:(e,t,a)=>{a.d(t,{A:()=>s});const s=(0,a(8995).A)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])}}]);
//# sourceMappingURL=593.b3659bb8.chunk.js.map