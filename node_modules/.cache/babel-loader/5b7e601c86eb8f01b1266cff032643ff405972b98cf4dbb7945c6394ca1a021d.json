{"ast":null,"code":"var _jsxFileName = \"/Users/pmelegatti/Development/Financial Resume/financial-resume-engine-frontend/src/contexts/AuthContext.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$(),\n  _s4 = $RefreshSig$(),\n  _s5 = $RefreshSig$();\nimport React, { createContext, useContext, useEffect, useState, useCallback } from 'react';\n\n// Crear el contexto\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AuthContext = /*#__PURE__*/createContext(null);\n\n// Hook personalizado para usar el contexto\nexport const useAuth = () => {\n  _s();\n  const context = useContext(AuthContext);\n  if (context === null) {\n    throw new Error('useAuth debe ser usado dentro de un AuthProvider');\n  }\n  return context;\n};\n\n// Estados posibles de autenticaci贸n\n_s(useAuth, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\nexport const AUTH_STATES = {\n  LOADING: 'loading',\n  AUTHENTICATED: 'authenticated',\n  UNAUTHENTICATED: 'unauthenticated',\n  ERROR: 'error'\n};\n\n/**\n * Proveedor del contexto de autenticaci贸n - VERSION SIMPLIFICADA PARA DEBUG\n */\nexport const AuthProvider = ({\n  children\n}) => {\n  _s2();\n  console.log(' AuthProvider rendering...');\n  const [authState, setAuthState] = useState(AUTH_STATES.UNAUTHENTICATED);\n  const [user, setUser] = useState(null);\n  const [isInitialized, setIsInitialized] = useState(true);\n\n  // Funciones b谩sicas para evitar errores\n  const handleLogin = useCallback(async credentials => {\n    console.log(' handleLogin called with:', credentials);\n    // Por ahora solo simular login exitoso\n    setAuthState(AUTH_STATES.AUTHENTICATED);\n    setUser({\n      id: 1,\n      email: credentials.email,\n      first_name: 'Usuario',\n      last_name: 'Test'\n    });\n    return {\n      success: true,\n      data: {\n        user: user\n      }\n    };\n  }, [user]);\n  const handleRegister = useCallback(async userData => {\n    console.log(' handleRegister called with:', userData);\n    // Por ahora solo simular registro exitoso\n    setAuthState(AUTH_STATES.AUTHENTICATED);\n    setUser({\n      id: 1,\n      email: userData.email,\n      first_name: userData.firstName || 'Usuario',\n      last_name: userData.lastName || 'Test'\n    });\n    return {\n      success: true,\n      data: {\n        user: user\n      }\n    };\n  }, [user]);\n  const handleLogout = useCallback(async () => {\n    console.log(' handleLogout called');\n    setUser(null);\n    setAuthState(AUTH_STATES.UNAUTHENTICATED);\n  }, []);\n\n  // Valores del contexto simplificados\n  const contextValue = {\n    // Estado\n    authState,\n    user,\n    isInitialized,\n    // Estados derivados\n    isAuthenticated: authState === AUTH_STATES.AUTHENTICATED,\n    isLoading: authState === AUTH_STATES.LOADING,\n    isError: authState === AUTH_STATES.ERROR,\n    // Acciones b谩sicas\n    register: handleRegister,\n    login: handleLogin,\n    logout: handleLogout,\n    // Funciones dummy para evitar errores\n    updateProfile: async () => ({\n      success: true\n    }),\n    changePassword: async () => ({\n      success: true\n    }),\n    refreshToken: async () => ({\n      success: true\n    }),\n    hasRole: () => false,\n    getAuthHeaders: () => ({}),\n    timeUntilExpiry: 0,\n    expiresAt: null\n  };\n  console.log(' AuthProvider context value:', {\n    authState,\n    isAuthenticated: contextValue.isAuthenticated,\n    user: (user === null || user === void 0 ? void 0 : user.email) || 'no user'\n  });\n  return /*#__PURE__*/_jsxDEV(AuthContext.Provider, {\n    value: contextValue,\n    children: [console.log(' AuthProvider rendering children...'), children]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 100,\n    columnNumber: 5\n  }, this);\n};\n\n/**\n * Hook para verificar autenticaci贸n con loading\n */\n_s2(AuthProvider, \"9bcpsBrpasZcKrKdwI40LbAKU1s=\");\n_c = AuthProvider;\nexport const useAuthStatus = () => {\n  _s3();\n  const {\n    isAuthenticated,\n    isLoading,\n    isInitialized\n  } = useAuth();\n  return {\n    isAuthenticated,\n    isLoading: isLoading || !isInitialized,\n    isReady: isInitialized && !isLoading\n  };\n};\n\n/**\n * Hook para obtener datos del usuario\n */\n_s3(useAuthStatus, \"0XyUocASTI8y5O4wp5jMOv9FhMI=\", false, function () {\n  return [useAuth];\n});\nexport const useUser = () => {\n  _s4();\n  var _user$first_name, _user$last_name;\n  const {\n    user\n  } = useAuth();\n  return {\n    user,\n    updateProfile: async () => ({\n      success: true\n    }),\n    fullName: user ? `${user.first_name || ''} ${user.last_name || ''}`.trim() || 'Usuario' : 'Usuario',\n    initials: user ? `${((_user$first_name = user.first_name) === null || _user$first_name === void 0 ? void 0 : _user$first_name[0]) || ''}${((_user$last_name = user.last_name) === null || _user$last_name === void 0 ? void 0 : _user$last_name[0]) || ''}` : 'U'\n  };\n};\n\n/**\n * Hook para acciones de autenticaci贸n\n */\n_s4(useUser, \"9ep4vdl3mBfipxjmc+tQCDhw6Ik=\", false, function () {\n  return [useAuth];\n});\nexport const useAuthActions = () => {\n  _s5();\n  const {\n    login,\n    register,\n    logout,\n    changePassword\n  } = useAuth();\n  return {\n    login,\n    register,\n    logout,\n    changePassword\n  };\n};\n_s5(useAuthActions, \"JnbgDwNp2bWMQHeLz0P3BLp6cGg=\", false, function () {\n  return [useAuth];\n});\nexport default AuthContext;\nvar _c;\n$RefreshReg$(_c, \"AuthProvider\");","map":{"version":3,"names":["React","createContext","useContext","useEffect","useState","useCallback","jsxDEV","_jsxDEV","AuthContext","useAuth","_s","context","Error","AUTH_STATES","LOADING","AUTHENTICATED","UNAUTHENTICATED","ERROR","AuthProvider","children","_s2","console","log","authState","setAuthState","user","setUser","isInitialized","setIsInitialized","handleLogin","credentials","id","email","first_name","last_name","success","data","handleRegister","userData","firstName","lastName","handleLogout","contextValue","isAuthenticated","isLoading","isError","register","login","logout","updateProfile","changePassword","refreshToken","hasRole","getAuthHeaders","timeUntilExpiry","expiresAt","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","useAuthStatus","_s3","isReady","useUser","_s4","_user$first_name","_user$last_name","fullName","trim","initials","useAuthActions","_s5","$RefreshReg$"],"sources":["/Users/pmelegatti/Development/Financial Resume/financial-resume-engine-frontend/src/contexts/AuthContext.js"],"sourcesContent":["import React, { createContext, useContext, useEffect, useState, useCallback } from 'react';\n\n// Crear el contexto\nconst AuthContext = createContext(null);\n\n// Hook personalizado para usar el contexto\nexport const useAuth = () => {\n  const context = useContext(AuthContext);\n  if (context === null) {\n    throw new Error('useAuth debe ser usado dentro de un AuthProvider');\n  }\n  return context;\n};\n\n// Estados posibles de autenticaci贸n\nexport const AUTH_STATES = {\n  LOADING: 'loading',\n  AUTHENTICATED: 'authenticated',\n  UNAUTHENTICATED: 'unauthenticated',\n  ERROR: 'error',\n};\n\n/**\n * Proveedor del contexto de autenticaci贸n - VERSION SIMPLIFICADA PARA DEBUG\n */\nexport const AuthProvider = ({ children }) => {\n  console.log(' AuthProvider rendering...');\n  \n  const [authState, setAuthState] = useState(AUTH_STATES.UNAUTHENTICATED);\n  const [user, setUser] = useState(null);\n  const [isInitialized, setIsInitialized] = useState(true);\n\n  // Funciones b谩sicas para evitar errores\n  const handleLogin = useCallback(async (credentials) => {\n    console.log(' handleLogin called with:', credentials);\n    // Por ahora solo simular login exitoso\n    setAuthState(AUTH_STATES.AUTHENTICATED);\n    setUser({ \n      id: 1, \n      email: credentials.email, \n      first_name: 'Usuario', \n      last_name: 'Test' \n    });\n    return { success: true, data: { user: user } };\n  }, [user]);\n\n  const handleRegister = useCallback(async (userData) => {\n    console.log(' handleRegister called with:', userData);\n    // Por ahora solo simular registro exitoso\n    setAuthState(AUTH_STATES.AUTHENTICATED);\n    setUser({ \n      id: 1, \n      email: userData.email, \n      first_name: userData.firstName || 'Usuario', \n      last_name: userData.lastName || 'Test' \n    });\n    return { success: true, data: { user: user } };\n  }, [user]);\n\n  const handleLogout = useCallback(async () => {\n    console.log(' handleLogout called');\n    setUser(null);\n    setAuthState(AUTH_STATES.UNAUTHENTICATED);\n  }, []);\n\n  // Valores del contexto simplificados\n  const contextValue = {\n    // Estado\n    authState,\n    user,\n    isInitialized,\n    \n    // Estados derivados\n    isAuthenticated: authState === AUTH_STATES.AUTHENTICATED,\n    isLoading: authState === AUTH_STATES.LOADING,\n    isError: authState === AUTH_STATES.ERROR,\n    \n    // Acciones b谩sicas\n    register: handleRegister,\n    login: handleLogin,\n    logout: handleLogout,\n    \n    // Funciones dummy para evitar errores\n    updateProfile: async () => ({ success: true }),\n    changePassword: async () => ({ success: true }),\n    refreshToken: async () => ({ success: true }),\n    hasRole: () => false,\n    getAuthHeaders: () => ({}),\n    timeUntilExpiry: 0,\n    expiresAt: null,\n  };\n\n  console.log(' AuthProvider context value:', { \n    authState, \n    isAuthenticated: contextValue.isAuthenticated, \n    user: user?.email || 'no user' \n  });\n\n  return (\n    <AuthContext.Provider value={contextValue}>\n      {console.log(' AuthProvider rendering children...')}\n      {children}\n    </AuthContext.Provider>\n  );\n};\n\n/**\n * Hook para verificar autenticaci贸n con loading\n */\nexport const useAuthStatus = () => {\n  const { isAuthenticated, isLoading, isInitialized } = useAuth();\n  \n  return {\n    isAuthenticated,\n    isLoading: isLoading || !isInitialized,\n    isReady: isInitialized && !isLoading,\n  };\n};\n\n/**\n * Hook para obtener datos del usuario\n */\nexport const useUser = () => {\n  const { user } = useAuth();\n  \n  return {\n    user,\n    updateProfile: async () => ({ success: true }),\n    fullName: user ? `${user.first_name || ''} ${user.last_name || ''}`.trim() || 'Usuario' : 'Usuario',\n    initials: user ? `${user.first_name?.[0] || ''}${user.last_name?.[0] || ''}` : 'U',\n  };\n};\n\n/**\n * Hook para acciones de autenticaci贸n\n */\nexport const useAuthActions = () => {\n  const { login, register, logout, changePassword } = useAuth();\n  \n  return {\n    login,\n    register,\n    logout,\n    changePassword,\n  };\n};\n\nexport default AuthContext; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}