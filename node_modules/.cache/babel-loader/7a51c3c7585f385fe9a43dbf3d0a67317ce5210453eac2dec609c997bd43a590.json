{"ast":null,"code":"var _jsxFileName = \"/Users/pmelegatti/Development/Financial Resume/financial-resume-engine-frontend/src/contexts/AuthContext.js\";\nimport React, { createContext, useContext, useEffect, useState, useCallback } from 'react';\nimport authService from '../services/authService';\n\n// Crear el contexto\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AuthContext = /*#__PURE__*/createContext();\n\n// Hook personalizado para usar el contexto\nexport const useAuth = () => {\n  const context = useContext(AuthContext);\n  if (!context) {\n    throw new Error('useAuth debe ser usado dentro de un AuthProvider');\n  }\n  return context;\n};\n\n// Estados posibles de autenticación\nexport const AUTH_STATES = {\n  LOADING: 'loading',\n  AUTHENTICATED: 'authenticated',\n  UNAUTHENTICATED: 'unauthenticated',\n  ERROR: 'error'\n};\n\n/**\n * Proveedor del contexto de autenticación\n */\nexport const AuthProvider = ({\n  children\n}) => {\n  const [authState, setAuthState] = useState(AUTH_STATES.LOADING);\n  const [user, setUser] = useState(null);\n  const [sessionInfo, setSessionInfo] = useState(null);\n  const [isInitialized, setIsInitialized] = useState(false);\n\n  /**\n   * Actualiza el estado de autenticación basado en el servicio\n   */\n  const updateAuthState = useCallback(() => {\n    try {\n      const isAuth = authService.isAuthenticated();\n      const currentUser = authService.getCurrentUser();\n      const session = authService.getSessionInfo();\n      setUser(currentUser);\n      setSessionInfo(session);\n      setAuthState(isAuth ? AUTH_STATES.AUTHENTICATED : AUTH_STATES.UNAUTHENTICATED);\n    } catch (error) {\n      console.error('Error updating auth state:', error);\n      setAuthState(AUTH_STATES.ERROR);\n      setUser(null);\n      setSessionInfo(null);\n    }\n  }, []);\n\n  /**\n   * Inicializa el estado de autenticación al cargar la aplicación\n   */\n  useEffect(() => {\n    const initializeAuth = async () => {\n      try {\n        // Si hay un usuario logueado, intentar obtener su perfil actualizado\n        if (authService.isAuthenticated()) {\n          try {\n            await authService.getProfile();\n          } catch (error) {\n            // Si falla obtener el perfil, limpiar datos\n            console.warn('Failed to get profile on init:', error);\n            authService.clearAuthData();\n          }\n        }\n        updateAuthState();\n      } catch (error) {\n        console.error('Error initializing auth:', error);\n        setAuthState(AUTH_STATES.ERROR);\n      } finally {\n        setIsInitialized(true);\n      }\n    };\n    initializeAuth();\n  }, [updateAuthState]);\n\n  /**\n   * Configurar un timer para verificar expiración del token\n   */\n  useEffect(() => {\n    if (authState !== AUTH_STATES.AUTHENTICATED) return;\n    const checkTokenExpiration = () => {\n      if (!authService.isTokenValid()) {\n        handleLogout();\n      }\n    };\n\n    // Verificar cada minuto\n    const interval = setInterval(checkTokenExpiration, 60000);\n    return () => clearInterval(interval);\n  }, [authState]);\n\n  /**\n   * Maneja el registro de usuario\n   */\n  const handleRegister = useCallback(async userData => {\n    try {\n      setAuthState(AUTH_STATES.LOADING);\n      const result = await authService.register(userData);\n      updateAuthState();\n      return result;\n    } catch (error) {\n      setAuthState(AUTH_STATES.UNAUTHENTICATED);\n      throw error;\n    }\n  }, [updateAuthState]);\n\n  /**\n   * Maneja el login de usuario\n   */\n  const handleLogin = useCallback(async credentials => {\n    try {\n      setAuthState(AUTH_STATES.LOADING);\n      const result = await authService.login(credentials);\n      updateAuthState();\n      return result;\n    } catch (error) {\n      setAuthState(AUTH_STATES.UNAUTHENTICATED);\n      throw error;\n    }\n  }, [updateAuthState]);\n\n  /**\n   * Maneja el logout\n   */\n  const handleLogout = useCallback(async () => {\n    try {\n      await authService.logout();\n    } catch (error) {\n      console.warn('Error during logout:', error);\n    } finally {\n      updateAuthState();\n    }\n  }, [updateAuthState]);\n\n  /**\n   * Actualiza el perfil del usuario\n   */\n  const updateProfile = useCallback(async () => {\n    try {\n      const profile = await authService.getProfile();\n      setUser(profile);\n      return profile;\n    } catch (error) {\n      console.error('Error updating profile:', error);\n      throw error;\n    }\n  }, []);\n\n  /**\n   * Cambia la contraseña del usuario\n   */\n  const changePassword = useCallback(async passwordData => {\n    try {\n      return await authService.changePassword(passwordData);\n    } catch (error) {\n      throw error;\n    }\n  }, []);\n\n  /**\n   * Verifica si el usuario tiene un rol específico\n   */\n  const hasRole = useCallback(role => {\n    return authService.hasRole(role);\n  }, []);\n\n  /**\n   * Obtiene headers de autorización\n   */\n  const getAuthHeaders = useCallback(() => {\n    return authService.getAuthHeaders();\n  }, []);\n\n  /**\n   * Renueva el token manualmente\n   */\n  const refreshToken = useCallback(async () => {\n    try {\n      await authService.refreshToken();\n      updateAuthState();\n    } catch (error) {\n      handleLogout();\n      throw error;\n    }\n  }, [updateAuthState, handleLogout]);\n\n  // Valores del contexto\n  const contextValue = {\n    // Estado\n    authState,\n    user,\n    sessionInfo,\n    isInitialized,\n    // Estados derivados\n    isAuthenticated: authState === AUTH_STATES.AUTHENTICATED,\n    isLoading: authState === AUTH_STATES.LOADING,\n    isError: authState === AUTH_STATES.ERROR,\n    // Acciones\n    register: handleRegister,\n    login: handleLogin,\n    logout: handleLogout,\n    updateProfile,\n    changePassword,\n    refreshToken,\n    // Utilidades\n    hasRole,\n    getAuthHeaders,\n    // Info de la sesión\n    timeUntilExpiry: (sessionInfo === null || sessionInfo === void 0 ? void 0 : sessionInfo.timeUntilExpiry) || 0,\n    expiresAt: sessionInfo === null || sessionInfo === void 0 ? void 0 : sessionInfo.expiresAt\n  };\n  return /*#__PURE__*/_jsxDEV(AuthContext.Provider, {\n    value: contextValue,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 230,\n    columnNumber: 5\n  }, this);\n};\n\n/**\n * Hook para verificar autenticación con loading\n */\nexport const useAuthStatus = () => {\n  const {\n    isAuthenticated,\n    isLoading,\n    isInitialized\n  } = useAuth();\n  return {\n    isAuthenticated,\n    isLoading: isLoading || !isInitialized,\n    isReady: isInitialized && !isLoading\n  };\n};\n\n/**\n * Hook para obtener datos del usuario\n */\nexport const useUser = () => {\n  var _user$first_name, _user$last_name;\n  const {\n    user,\n    updateProfile\n  } = useAuth();\n  return {\n    user,\n    updateProfile,\n    fullName: user ? `${user.first_name} ${user.last_name}` : '',\n    initials: user ? `${((_user$first_name = user.first_name) === null || _user$first_name === void 0 ? void 0 : _user$first_name[0]) || ''}${((_user$last_name = user.last_name) === null || _user$last_name === void 0 ? void 0 : _user$last_name[0]) || ''}` : ''\n  };\n};\n\n/**\n * Hook para acciones de autenticación\n */\nexport const useAuthActions = () => {\n  const {\n    login,\n    register,\n    logout,\n    changePassword\n  } = useAuth();\n  return {\n    login,\n    register,\n    logout,\n    changePassword\n  };\n};\nexport default AuthContext;","map":{"version":3,"names":["React","createContext","useContext","useEffect","useState","useCallback","authService","jsxDEV","_jsxDEV","AuthContext","useAuth","context","Error","AUTH_STATES","LOADING","AUTHENTICATED","UNAUTHENTICATED","ERROR","AuthProvider","children","authState","setAuthState","user","setUser","sessionInfo","setSessionInfo","isInitialized","setIsInitialized","updateAuthState","isAuth","isAuthenticated","currentUser","getCurrentUser","session","getSessionInfo","error","console","initializeAuth","getProfile","warn","clearAuthData","checkTokenExpiration","isTokenValid","handleLogout","interval","setInterval","clearInterval","handleRegister","userData","result","register","handleLogin","credentials","login","logout","updateProfile","profile","changePassword","passwordData","hasRole","role","getAuthHeaders","refreshToken","contextValue","isLoading","isError","timeUntilExpiry","expiresAt","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","useAuthStatus","isReady","useUser","_user$first_name","_user$last_name","fullName","first_name","last_name","initials","useAuthActions"],"sources":["/Users/pmelegatti/Development/Financial Resume/financial-resume-engine-frontend/src/contexts/AuthContext.js"],"sourcesContent":["import React, { createContext, useContext, useEffect, useState, useCallback } from 'react';\nimport authService from '../services/authService';\n\n// Crear el contexto\nconst AuthContext = createContext();\n\n// Hook personalizado para usar el contexto\nexport const useAuth = () => {\n  const context = useContext(AuthContext);\n  if (!context) {\n    throw new Error('useAuth debe ser usado dentro de un AuthProvider');\n  }\n  return context;\n};\n\n// Estados posibles de autenticación\nexport const AUTH_STATES = {\n  LOADING: 'loading',\n  AUTHENTICATED: 'authenticated',\n  UNAUTHENTICATED: 'unauthenticated',\n  ERROR: 'error',\n};\n\n/**\n * Proveedor del contexto de autenticación\n */\nexport const AuthProvider = ({ children }) => {\n  const [authState, setAuthState] = useState(AUTH_STATES.LOADING);\n  const [user, setUser] = useState(null);\n  const [sessionInfo, setSessionInfo] = useState(null);\n  const [isInitialized, setIsInitialized] = useState(false);\n\n  /**\n   * Actualiza el estado de autenticación basado en el servicio\n   */\n  const updateAuthState = useCallback(() => {\n    try {\n      const isAuth = authService.isAuthenticated();\n      const currentUser = authService.getCurrentUser();\n      const session = authService.getSessionInfo();\n\n      setUser(currentUser);\n      setSessionInfo(session);\n      setAuthState(isAuth ? AUTH_STATES.AUTHENTICATED : AUTH_STATES.UNAUTHENTICATED);\n    } catch (error) {\n      console.error('Error updating auth state:', error);\n      setAuthState(AUTH_STATES.ERROR);\n      setUser(null);\n      setSessionInfo(null);\n    }\n  }, []);\n\n  /**\n   * Inicializa el estado de autenticación al cargar la aplicación\n   */\n  useEffect(() => {\n    const initializeAuth = async () => {\n      try {\n        // Si hay un usuario logueado, intentar obtener su perfil actualizado\n        if (authService.isAuthenticated()) {\n          try {\n            await authService.getProfile();\n          } catch (error) {\n            // Si falla obtener el perfil, limpiar datos\n            console.warn('Failed to get profile on init:', error);\n            authService.clearAuthData();\n          }\n        }\n\n        updateAuthState();\n      } catch (error) {\n        console.error('Error initializing auth:', error);\n        setAuthState(AUTH_STATES.ERROR);\n      } finally {\n        setIsInitialized(true);\n      }\n    };\n\n    initializeAuth();\n  }, [updateAuthState]);\n\n  /**\n   * Configurar un timer para verificar expiración del token\n   */\n  useEffect(() => {\n    if (authState !== AUTH_STATES.AUTHENTICATED) return;\n\n    const checkTokenExpiration = () => {\n      if (!authService.isTokenValid()) {\n        handleLogout();\n      }\n    };\n\n    // Verificar cada minuto\n    const interval = setInterval(checkTokenExpiration, 60000);\n\n    return () => clearInterval(interval);\n  }, [authState]);\n\n  /**\n   * Maneja el registro de usuario\n   */\n  const handleRegister = useCallback(async (userData) => {\n    try {\n      setAuthState(AUTH_STATES.LOADING);\n      \n      const result = await authService.register(userData);\n      updateAuthState();\n      \n      return result;\n    } catch (error) {\n      setAuthState(AUTH_STATES.UNAUTHENTICATED);\n      throw error;\n    }\n  }, [updateAuthState]);\n\n  /**\n   * Maneja el login de usuario\n   */\n  const handleLogin = useCallback(async (credentials) => {\n    try {\n      setAuthState(AUTH_STATES.LOADING);\n      \n      const result = await authService.login(credentials);\n      updateAuthState();\n      \n      return result;\n    } catch (error) {\n      setAuthState(AUTH_STATES.UNAUTHENTICATED);\n      throw error;\n    }\n  }, [updateAuthState]);\n\n  /**\n   * Maneja el logout\n   */\n  const handleLogout = useCallback(async () => {\n    try {\n      await authService.logout();\n    } catch (error) {\n      console.warn('Error during logout:', error);\n    } finally {\n      updateAuthState();\n    }\n  }, [updateAuthState]);\n\n  /**\n   * Actualiza el perfil del usuario\n   */\n  const updateProfile = useCallback(async () => {\n    try {\n      const profile = await authService.getProfile();\n      setUser(profile);\n      return profile;\n    } catch (error) {\n      console.error('Error updating profile:', error);\n      throw error;\n    }\n  }, []);\n\n  /**\n   * Cambia la contraseña del usuario\n   */\n  const changePassword = useCallback(async (passwordData) => {\n    try {\n      return await authService.changePassword(passwordData);\n    } catch (error) {\n      throw error;\n    }\n  }, []);\n\n  /**\n   * Verifica si el usuario tiene un rol específico\n   */\n  const hasRole = useCallback((role) => {\n    return authService.hasRole(role);\n  }, []);\n\n  /**\n   * Obtiene headers de autorización\n   */\n  const getAuthHeaders = useCallback(() => {\n    return authService.getAuthHeaders();\n  }, []);\n\n  /**\n   * Renueva el token manualmente\n   */\n  const refreshToken = useCallback(async () => {\n    try {\n      await authService.refreshToken();\n      updateAuthState();\n    } catch (error) {\n      handleLogout();\n      throw error;\n    }\n  }, [updateAuthState, handleLogout]);\n\n  // Valores del contexto\n  const contextValue = {\n    // Estado\n    authState,\n    user,\n    sessionInfo,\n    isInitialized,\n    \n    // Estados derivados\n    isAuthenticated: authState === AUTH_STATES.AUTHENTICATED,\n    isLoading: authState === AUTH_STATES.LOADING,\n    isError: authState === AUTH_STATES.ERROR,\n    \n    // Acciones\n    register: handleRegister,\n    login: handleLogin,\n    logout: handleLogout,\n    updateProfile,\n    changePassword,\n    refreshToken,\n    \n    // Utilidades\n    hasRole,\n    getAuthHeaders,\n    \n    // Info de la sesión\n    timeUntilExpiry: sessionInfo?.timeUntilExpiry || 0,\n    expiresAt: sessionInfo?.expiresAt,\n  };\n\n  return (\n    <AuthContext.Provider value={contextValue}>\n      {children}\n    </AuthContext.Provider>\n  );\n};\n\n/**\n * Hook para verificar autenticación con loading\n */\nexport const useAuthStatus = () => {\n  const { isAuthenticated, isLoading, isInitialized } = useAuth();\n  \n  return {\n    isAuthenticated,\n    isLoading: isLoading || !isInitialized,\n    isReady: isInitialized && !isLoading,\n  };\n};\n\n/**\n * Hook para obtener datos del usuario\n */\nexport const useUser = () => {\n  const { user, updateProfile } = useAuth();\n  \n  return {\n    user,\n    updateProfile,\n    fullName: user ? `${user.first_name} ${user.last_name}` : '',\n    initials: user ? `${user.first_name?.[0] || ''}${user.last_name?.[0] || ''}` : '',\n  };\n};\n\n/**\n * Hook para acciones de autenticación\n */\nexport const useAuthActions = () => {\n  const { login, register, logout, changePassword } = useAuth();\n  \n  return {\n    login,\n    register,\n    logout,\n    changePassword,\n  };\n};\n\nexport default AuthContext; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}