{"ast":null,"code":"var _jsxFileName = \"/Users/pmelegatti/Development/Financial Resume/financial-resume-engine-frontend/src/pages/Dashboard.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { TrendingUp, TrendingDown, DollarSign, PieChart, ArrowUpRight, ArrowDownRight, Calendar, CheckCircle, XCircle, BarChart3, Target, AlertCircle } from 'lucide-react';\nimport { AreaChart, Area, XAxis, YAxis, CartesianGrid, Tooltip, ResponsiveContainer, PieChart as RechartsPieChart, Pie, Cell } from 'recharts';\nimport { expensesAPI, incomesAPI, categoriesAPI, dashboardAPI, analyticsAPI, formatCurrency, formatDate, formatPercentage as formatPercentageUtil } from '../services/api';\nimport { usePeriod } from '../contexts/PeriodContext';\nimport { useAuth } from '../contexts/AuthContext';\nimport toast from 'react-hot-toast';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Dashboard = () => {\n  _s();\n  const [loading, setLoading] = useState(true);\n  const [sortBy, setSortBy] = useState('fecha'); // nuevo estado para ordenamiento\n  const [data, setData] = useState({\n    totalIncome: 0,\n    totalExpenses: 0,\n    balance: 0,\n    expenses: [],\n    incomes: [],\n    categories: []\n  });\n\n  // Usar el contexto global de perÃ­odo\n  const {\n    selectedYear,\n    selectedMonth,\n    hasActiveFilters,\n    balancesHidden,\n    getFilterParams,\n    getPeriodTitle,\n    updateAvailableData\n  } = usePeriod();\n\n  // Usar el contexto de autenticaciÃ³n\n  const {\n    user,\n    isAuthenticated,\n    getAuthHeaders\n  } = useAuth();\n\n  // Debug de autenticaciÃ³n\n  useEffect(() => {\n    console.log('ðŸ” Dashboard - Estado de autenticaciÃ³n:', {\n      isAuthenticated,\n      user,\n      token: localStorage.getItem('auth_token') ? 'EXISTS' : 'MISSING',\n      authHeaders: getAuthHeaders()\n    });\n  }, [isAuthenticated, user, getAuthHeaders]);\n\n  // FunciÃ³n de prueba para verificar endpoints\n  const testNewEndpoints = async () => {\n    if (!isAuthenticated) {\n      console.log('âŒ Usuario no autenticado, no se pueden probar endpoints');\n      return;\n    }\n    console.log('ðŸ§ª Probando nuevos endpoints...');\n    try {\n      // Probar dashboard endpoint\n      console.log('ðŸ“Š Probando /api/v1/dashboard...');\n      const dashboardResponse = await dashboardAPI.overview({\n        year: 2024\n      });\n      console.log('âœ… Dashboard endpoint funciona:', dashboardResponse.data);\n\n      // Probar analytics endpoints\n      console.log('ðŸ“ˆ Probando /api/v1/analytics/expenses...');\n      const expensesResponse = await analyticsAPI.expenses({\n        year: 2024,\n        limit: 5\n      });\n      console.log('âœ… Expenses analytics funciona:', expensesResponse.data);\n      console.log('ðŸ“Š Probando /api/v1/analytics/categories...');\n      const categoriesResponse = await analyticsAPI.categories({\n        year: 2024\n      });\n      console.log('âœ… Categories analytics funciona:', categoriesResponse.data);\n      console.log('ðŸ’° Probando /api/v1/analytics/incomes...');\n      const incomesResponse = await analyticsAPI.incomes({\n        year: 2024\n      });\n      console.log('âœ… Incomes analytics funciona:', incomesResponse.data);\n      toast.success('Â¡Todos los endpoints nuevos funcionan correctamente!');\n    } catch (error) {\n      console.error('âŒ Error probando endpoints:', error);\n      toast.error('Error probando endpoints: ' + error.message);\n    }\n  };\n\n  // Ejecutar prueba cuando el usuario estÃ© autenticado\n  useEffect(() => {\n    if (isAuthenticated && user) {\n      // Esperar un poco para que se cargue todo\n      setTimeout(testNewEndpoints, 2000);\n    }\n  }, [isAuthenticated, user]);\n\n  // Cargar datos iniciales (incluyendo calcular meses disponibles)\n  useEffect(() => {\n    loadDashboardData();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  // Recargar datos cuando cambien los filtros del contexto global (sin recalcular meses)\n  useEffect(() => {\n    if (selectedMonth !== null || selectedYear !== null) {\n      loadDashboardData(false); // false = no recalcular meses disponibles\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [selectedMonth, selectedYear]);\n  const loadDashboardData = async (shouldUpdateAvailableData = true) => {\n    try {\n      setLoading(true);\n\n      // Obtener parÃ¡metros de filtro del contexto global\n      const filterParams = getFilterParams();\n      let data = {};\n      try {\n        var _oldCategoriesRespons, _dashboard$Metrics, _dashboard$Metrics2, _dashboard$Metrics3;\n        // Intentar usar los nuevos endpoints del backend\n        const [dashboardResponse, expensesResponse, incomesResponse, categoriesResponse, oldCategoriesResponse] = await Promise.all([dashboardAPI.overview(filterParams), analyticsAPI.expenses({\n          ...filterParams,\n          sort: 'date',\n          order: 'desc',\n          limit: 50\n        }), analyticsAPI.incomes({\n          ...filterParams,\n          sort: 'date',\n          order: 'desc',\n          limit: 50\n        }), analyticsAPI.categories(filterParams), categoriesAPI.list() // Mantener para dropdown de filtros\n        ]);\n\n        // Extraer datos de las respuestas del backend\n        const dashboard = dashboardResponse.data || {};\n        const expensesData = expensesResponse.data || {};\n        const incomesData = incomesResponse.data || {};\n        const categoriesData = categoriesResponse.data || {};\n        const categoriesForDropdown = ((_oldCategoriesRespons = oldCategoriesResponse.data) === null || _oldCategoriesRespons === void 0 ? void 0 : _oldCategoriesRespons.data) || oldCategoriesResponse.data || [];\n\n        // Normalizar datos del backend (convertir PascalCase a camelCase)\n        const normalizedExpenses = (expensesData.Expenses || []).map(expense => ({\n          id: expense.ID || expense.id,\n          user_id: expense.UserID || expense.user_id,\n          amount: expense.Amount || expense.amount,\n          amount_paid: expense.AmountPaid || expense.amount_paid,\n          pending_amount: expense.PendingAmount || expense.pending_amount,\n          description: expense.Description || expense.description,\n          category_id: expense.CategoryID || expense.category_id,\n          paid: expense.Paid !== undefined ? expense.Paid : expense.paid,\n          due_date: expense.DueDate || expense.due_date,\n          percentage: expense.PercentageOfIncome || expense.percentage,\n          created_at: expense.CreatedAt || expense.created_at,\n          updated_at: expense.UpdatedAt || expense.updated_at\n        }));\n        const normalizedIncomes = (incomesData.Incomes || []).map(income => ({\n          id: income.ID || income.id,\n          user_id: income.UserID || income.user_id,\n          amount: income.Amount || income.amount,\n          description: income.Description || income.description,\n          category_id: income.CategoryID || income.category_id,\n          created_at: income.CreatedAt || income.created_at,\n          updated_at: income.UpdatedAt || income.updated_at\n        }));\n\n        // Usar datos pre-calculados del backend\n        data = {\n          // MÃ©tricas del dashboard (pre-calculadas por backend)\n          totalIncome: ((_dashboard$Metrics = dashboard.Metrics) === null || _dashboard$Metrics === void 0 ? void 0 : _dashboard$Metrics.TotalIncome) || 0,\n          totalExpenses: ((_dashboard$Metrics2 = dashboard.Metrics) === null || _dashboard$Metrics2 === void 0 ? void 0 : _dashboard$Metrics2.TotalExpenses) || 0,\n          balance: ((_dashboard$Metrics3 = dashboard.Metrics) === null || _dashboard$Metrics3 === void 0 ? void 0 : _dashboard$Metrics3.Balance) || 0,\n          // Transacciones normalizadas con porcentajes calculados por backend\n          expenses: normalizedExpenses,\n          incomes: normalizedIncomes,\n          // CategorÃ­as para dropdown de filtros\n          categories: Array.isArray(categoriesForDropdown) ? categoriesForDropdown : [],\n          // Datos adicionales del backend\n          dashboardMetrics: dashboard.Metrics || {},\n          expensesSummary: expensesData.Summary || {},\n          categoriesAnalytics: categoriesData.Categories || [],\n          // Datos sin filtrar para calcular meses disponibles\n          allExpenses: normalizedExpenses,\n          allIncomes: normalizedIncomes\n        };\n        console.log('âœ… Usando nuevos endpoints del backend');\n      } catch (newEndpointsError) {\n        var _expensesResponse$dat, _incomesResponse$data, _categoriesResponse$d;\n        console.warn('âš ï¸ Nuevos endpoints no disponibles, usando endpoints legacy:', newEndpointsError.message);\n\n        // Fallback a endpoints viejos con cÃ¡lculos client-side\n        const [expensesResponse, incomesResponse, categoriesResponse] = await Promise.all([expensesAPI.list(), incomesAPI.list(), categoriesAPI.list()]);\n\n        // Asegurar que siempre sean arrays\n        const expensesData = ((_expensesResponse$dat = expensesResponse.data) === null || _expensesResponse$dat === void 0 ? void 0 : _expensesResponse$dat.expenses) || expensesResponse.expenses || [];\n        const incomesData = ((_incomesResponse$data = incomesResponse.data) === null || _incomesResponse$data === void 0 ? void 0 : _incomesResponse$data.incomes) || incomesResponse.incomes || [];\n        const categoriesData = ((_categoriesResponse$d = categoriesResponse.data) === null || _categoriesResponse$d === void 0 ? void 0 : _categoriesResponse$d.data) || categoriesResponse.data || [];\n        const expenses = Array.isArray(expensesData) ? expensesData : [];\n        const incomes = Array.isArray(incomesData) ? incomesData : [];\n        const categories = Array.isArray(categoriesData) ? categoriesData : [];\n\n        // Filtrar datos client-side si hay filtros activos\n        const filteredExpenses = filterDataByMonthAndYear(expenses, selectedMonth, selectedYear);\n        const filteredIncomes = filterDataByMonthAndYear(incomes, selectedMonth, selectedYear);\n        const totalExpenses = filteredExpenses.reduce((sum, expense) => sum + expense.amount, 0);\n        const totalIncome = filteredIncomes.reduce((sum, income) => sum + income.amount, 0);\n        data = {\n          totalIncome,\n          totalExpenses,\n          balance: totalIncome - totalExpenses,\n          expenses: filteredExpenses,\n          incomes: filteredIncomes,\n          categories,\n          dashboardMetrics: {},\n          expensesSummary: {},\n          categoriesAnalytics: [],\n          // Datos sin filtrar para calcular meses disponibles\n          allExpenses: expenses,\n          allIncomes: incomes\n        };\n        console.log('âœ… Usando endpoints legacy con cÃ¡lculos client-side');\n      }\n      setData(data);\n\n      // Actualizar datos disponibles en el contexto global solo la primera vez\n      if (shouldUpdateAvailableData) {\n        updateAvailableData(data.allExpenses || data.expenses, data.allIncomes || data.incomes);\n      }\n    } catch (error) {\n      console.warn('âš ï¸ Todos los endpoints fallaron, usando datos vacÃ­os:', error.message);\n\n      // Establecer datos vacÃ­os en lugar de datos mock\n      setData({\n        totalIncome: 0,\n        totalExpenses: 0,\n        balance: 0,\n        expenses: [],\n        incomes: [],\n        categories: [],\n        dashboardMetrics: {},\n        expensesSummary: {},\n        categoriesAnalytics: []\n      });\n      if (shouldUpdateAvailableData) {\n        updateAvailableData([], []);\n      }\n\n      // Solo mostrar error si realmente hay un problema de conectividad\n      toast.error('Error al cargar los datos del dashboard', {\n        duration: 3000\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n  const formatAmount = amount => {\n    if (balancesHidden) return 'â€¢â€¢â€¢â€¢â€¢â€¢';\n    return formatCurrency(amount);\n  };\n  const formatPercentage = percentage => {\n    return formatPercentageUtil(percentage);\n  };\n\n  // FunciÃ³n para filtrar datos client-side (fallback cuando nuevos endpoints no disponibles)\n  const filterDataByMonthAndYear = (dataArray, monthFilter, yearFilter) => {\n    if (!hasActiveFilters) return dataArray;\n    return dataArray.filter(item => {\n      // Validar que tenga fecha vÃ¡lida\n      if (!item.created_at) return false;\n      const itemDate = new Date(item.created_at);\n\n      // Validar que la fecha sea vÃ¡lida\n      if (isNaN(itemDate.getTime())) return false;\n\n      // Filtrar por aÃ±o si estÃ¡ seleccionado\n      if (yearFilter && itemDate.getFullYear().toString() !== yearFilter) {\n        return false;\n      }\n\n      // Filtrar por mes si estÃ¡ seleccionado\n      if (monthFilter) {\n        const itemMonth = itemDate.toISOString().slice(0, 7);\n        return itemMonth === monthFilter;\n      }\n      return true;\n    });\n  };\n  const formatMonthLabel = monthString => {\n    // Evitar problemas de zona horaria usando constructor numÃ©rico\n    const [year, month] = monthString.split('-');\n    const date = new Date(parseInt(year), parseInt(month) - 1, 1); // month es 0-indexed\n    const formatted = date.toLocaleDateString('es-AR', {\n      year: 'numeric',\n      month: 'long'\n    });\n    // Capitalizar la primera letra del mes\n    const capitalized = formatted.charAt(0).toUpperCase() + formatted.slice(1);\n    return capitalized;\n  };\n\n  // FunciÃ³n para obtener colores por categorÃ­a\n  const getCategoryColor = categoryId => {\n    const colors = [{\n      bg: 'bg-blue-100',\n      border: 'border-blue-400',\n      text: 'text-blue-700'\n    }, {\n      bg: 'bg-green-100',\n      border: 'border-green-400',\n      text: 'text-green-700'\n    }, {\n      bg: 'bg-yellow-100',\n      border: 'border-yellow-400',\n      text: 'text-yellow-700'\n    }, {\n      bg: 'bg-purple-100',\n      border: 'border-purple-400',\n      text: 'text-purple-700'\n    }, {\n      bg: 'bg-pink-100',\n      border: 'border-pink-400',\n      text: 'text-pink-700'\n    }, {\n      bg: 'bg-indigo-100',\n      border: 'border-indigo-400',\n      text: 'text-indigo-700'\n    }, {\n      bg: 'bg-cyan-100',\n      border: 'border-cyan-400',\n      text: 'text-cyan-700'\n    }, {\n      bg: 'bg-orange-100',\n      border: 'border-orange-400',\n      text: 'text-orange-700'\n    }];\n    if (!categoryId) {\n      return {\n        bg: 'bg-gray-100',\n        border: 'border-gray-400',\n        text: 'text-gray-700'\n      };\n    }\n\n    // Usar el hash del categoryId para asignar colores consistentes\n    let hash = 0;\n    for (let i = 0; i < categoryId.length; i++) {\n      hash = categoryId.charCodeAt(i) + ((hash << 5) - hash);\n    }\n    const colorIndex = Math.abs(hash) % colors.length;\n    return colors[colorIndex];\n  };\n\n  // Usar datos de categorÃ­as pre-calculados del backend o calcular client-side\n  const calculateCategoryData = () => {\n    // Si tenemos datos del backend analytics, usarlos\n    if (data.categoriesAnalytics && data.categoriesAnalytics.length) {\n      const colors = ['#009ee3', '#00a650', '#ff6900', '#e53e3e', '#6b7280', '#8b5cf6', '#f59e0b'];\n      console.log('ðŸ” Datos de categorÃ­as del backend:', data.categoriesAnalytics);\n      const result = data.categoriesAnalytics.map((category, index) => ({\n        name: category.Name || category.CategoryName || category.category_name || 'Sin nombre',\n        value: category.Percentage || category.PercentageOfExpenses || category.percentage_of_expenses || 0,\n        amount: category.TotalAmount || category.total_amount || 0,\n        color: colors[index % colors.length]\n      })).filter(item => item.value > 0);\n      console.log('ðŸ“Š Datos procesados para el grÃ¡fico:', result);\n      return result;\n    }\n\n    // Fallback: calcular client-side si no hay datos del backend\n    if (!data.expenses || !data.expenses.length) {\n      return [];\n    }\n    const categoryTotals = {};\n    const totalExpenses = data.expenses.reduce((sum, expense) => sum + expense.amount, 0);\n\n    // Agrupar gastos por categorÃ­a\n    data.expenses.forEach(expense => {\n      const categoryId = expense.category_id || 'sin-categoria';\n      const category = data.categories.find(c => c.id === categoryId);\n      const categoryName = category ? category.name : 'Sin categorÃ­a';\n      if (!categoryTotals[categoryId]) {\n        categoryTotals[categoryId] = {\n          name: categoryName,\n          amount: 0\n        };\n      }\n      categoryTotals[categoryId].amount += expense.amount;\n    });\n\n    // Convertir a formato del grÃ¡fico\n    const colors = ['#009ee3', '#00a650', '#ff6900', '#e53e3e', '#6b7280', '#8b5cf6', '#f59e0b'];\n    return Object.entries(categoryTotals).map(([categoryId, data], index) => ({\n      name: data.name,\n      value: totalExpenses > 0 ? data.amount / totalExpenses * 100 : 0,\n      amount: data.amount,\n      color: colors[index % colors.length]\n    })).filter(item => item.value > 0).sort((a, b) => b.amount - a.amount); // Ordenar por monto descendente\n  };\n\n  // Datos simplificados del grÃ¡fico usando mÃ©tricas del backend\n  const calculateChartData = () => {\n    let periodLabel = 'Total';\n    if (selectedMonth && selectedYear) {\n      periodLabel = formatMonthLabel(selectedMonth);\n    } else if (selectedMonth) {\n      periodLabel = new Date(selectedMonth + '-01').toLocaleDateString('es-AR', {\n        month: 'short'\n      });\n    } else if (selectedYear) {\n      periodLabel = selectedYear;\n    }\n    return [{\n      name: periodLabel,\n      ingresos: data.totalIncome,\n      gastos: data.totalExpenses\n    }];\n  };\n\n  // Datos para los grÃ¡ficos\n  const chartData = calculateChartData();\n  const pieData = calculateCategoryData();\n\n  // FunciÃ³n para ordenar transacciones\n  const sortTransactions = (transactions, sortType) => {\n    const sorted = [...transactions];\n    switch (sortType) {\n      case 'fecha':\n        return sorted.sort((a, b) => {\n          const dateA = new Date(a.created_at);\n          const dateB = new Date(b.created_at);\n\n          // Manejar fechas invÃ¡lidas - ponerlas al final\n          if (isNaN(dateA.getTime()) && isNaN(dateB.getTime())) return 0;\n          if (isNaN(dateA.getTime())) return 1;\n          if (isNaN(dateB.getTime())) return -1;\n          return dateB - dateA;\n        });\n      case 'monto':\n        return sorted.sort((a, b) => {\n          const amountA = Number(a.amount) || 0;\n          const amountB = Number(b.amount) || 0;\n          return amountB - amountA;\n        });\n      case 'categoria':\n        return sorted.sort((a, b) => {\n          var _data$categories$find, _data$categories$find2;\n          const categoryA = ((_data$categories$find = data.categories.find(c => c.id === a.category_id)) === null || _data$categories$find === void 0 ? void 0 : _data$categories$find.name) || 'Sin categorÃ­a';\n          const categoryB = ((_data$categories$find2 = data.categories.find(c => c.id === b.category_id)) === null || _data$categories$find2 === void 0 ? void 0 : _data$categories$find2.name) || 'Sin categorÃ­a';\n          return categoryA.localeCompare(categoryB);\n        });\n      default:\n        return sorted;\n    }\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex items-center justify-center h-64\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"spinner\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 475,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"ml-2 text-fr-gray-600\",\n        children: \"Cargando dashboard...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 476,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 474,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-start justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-1 min-w-0\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm font-medium text-fr-gray-600\",\n              children: \"Balance Total\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 489,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: `text-xl lg:text-2xl font-bold ${data.balance >= 0 ? 'text-fr-secondary' : 'text-fr-error'} break-words`,\n              children: formatAmount(data.balance)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 492,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 488,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `flex-shrink-0 p-2 lg:p-3 rounded-fr ${data.balance >= 0 ? 'bg-green-100' : 'bg-red-100'} ml-2`,\n            children: /*#__PURE__*/_jsxDEV(DollarSign, {\n              className: `w-5 h-5 lg:w-6 lg:h-6 ${data.balance >= 0 ? 'text-fr-secondary' : 'text-fr-error'}`\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 497,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 496,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 487,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-3 flex items-center\",\n          children: [data.balance >= 0 ? /*#__PURE__*/_jsxDEV(ArrowUpRight, {\n            className: \"w-4 h-4 text-fr-secondary mr-1 flex-shrink-0\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 502,\n            columnNumber: 15\n          }, this) : /*#__PURE__*/_jsxDEV(ArrowDownRight, {\n            className: \"w-4 h-4 text-fr-error mr-1 flex-shrink-0\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 504,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: `text-sm ${data.balance >= 0 ? 'text-fr-secondary' : 'text-fr-error'}`,\n            children: data.balance >= 0 ? 'Positivo' : 'Negativo'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 506,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 500,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 486,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-start justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-1 min-w-0\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm font-medium text-fr-gray-600\",\n              children: \"Total Ingresos\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 516,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xl lg:text-2xl font-bold text-fr-secondary break-words\",\n              children: formatAmount(data.totalIncome)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 519,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 515,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-shrink-0 p-2 lg:p-3 rounded-fr bg-green-100 ml-2\",\n            children: /*#__PURE__*/_jsxDEV(TrendingUp, {\n              className: \"w-5 h-5 lg:w-6 lg:h-6 text-fr-secondary\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 524,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 523,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 514,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-3 flex items-center\",\n          children: [/*#__PURE__*/_jsxDEV(TrendingUp, {\n            className: \"w-4 h-4 text-fr-secondary mr-1 flex-shrink-0\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 528,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-sm text-fr-gray-500\",\n            children: [data.incomes.length, \" \", data.incomes.length === 1 ? 'ingreso' : 'ingresos', \" registrados\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 529,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 527,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 513,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-start justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-1 min-w-0\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm font-medium text-fr-gray-600\",\n              children: \"Total Gastos\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 539,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xl lg:text-2xl font-bold text-fr-gray-900 break-words\",\n              children: formatAmount(data.totalExpenses)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 542,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 538,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-shrink-0 p-2 lg:p-3 rounded-fr bg-gray-100 ml-2\",\n            children: /*#__PURE__*/_jsxDEV(TrendingDown, {\n              className: \"w-5 h-5 lg:w-6 lg:h-6 text-fr-gray-900\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 547,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 546,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 537,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-3 flex items-center\",\n          children: [/*#__PURE__*/_jsxDEV(TrendingDown, {\n            className: \"w-4 h-4 text-fr-gray-900 mr-1 flex-shrink-0\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 551,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-sm text-fr-gray-500\",\n            children: [data.expenses.length, \" \", data.expenses.length === 1 ? 'gasto' : 'gastos', \" registrados\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 552,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 550,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 536,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-start justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-1 min-w-0\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm font-medium text-fr-gray-600\",\n              children: \"Gastos Pendientes\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 562,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xl lg:text-2xl font-bold text-fr-gray-900\",\n              children: data.expenses.filter(e => !e.paid).length\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 565,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 561,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-shrink-0 p-2 lg:p-3 rounded-fr bg-gray-100 ml-2\",\n            children: /*#__PURE__*/_jsxDEV(Calendar, {\n              className: \"w-5 h-5 lg:w-6 lg:h-6 text-fr-gray-900\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 570,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 569,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 560,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-3\",\n          children: /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-sm text-fr-gray-500\",\n            children: [formatAmount(data.expenses.filter(e => !e.paid).reduce((sum, e) => sum + e.amount, 0)), \" por pagar\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 574,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 573,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 559,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 484,\n      columnNumber: 7\n    }, this), hasActiveFilters && (data.expenses.length > 0 || data.incomes.length > 0) && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-semibold text-fr-gray-900\",\n          children: [\"\\uD83D\\uDCB0 Transacciones de \", getPeriodTitle()]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 585,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"text-sm font-medium text-fr-gray-600\",\n              children: \"Ordenar por:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 591,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: sortBy,\n              onChange: e => setSortBy(e.target.value),\n              className: \"text-sm border border-fr-gray-300 rounded-fr px-3 py-1 focus:outline-none focus:ring-2 focus:ring-fr-primary focus:border-transparent\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"fecha\",\n                children: \"Fecha\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 597,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"monto\",\n                children: \"Monto\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 598,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"categoria\",\n                children: \"Categor\\xEDa\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 599,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 592,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 590,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-4 text-sm\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-3 h-3 bg-fr-error rounded-full mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 606,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-fr-gray-600\",\n                children: [\"Gastos (\", data.expenses.length, \")\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 607,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 605,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"w-3 h-3 bg-fr-secondary rounded-full mr-2\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 610,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-fr-gray-600\",\n                children: [\"Ingresos (\", data.incomes.length, \")\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 611,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 609,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 604,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 588,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 584,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"relative grid grid-cols-1 md:grid-cols-2 gap-4 lg:gap-6 xl:gap-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-3 mb-4\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-between\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"font-semibold text-fr-gray-900 flex items-center\",\n                children: [/*#__PURE__*/_jsxDEV(TrendingDown, {\n                  className: \"w-5 h-5 mr-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 623,\n                  columnNumber: 21\n                }, this), \"Gastos\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 622,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-lg font-bold text-fr-gray-900\",\n                children: formatAmount(data.totalExpenses)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 626,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 621,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 620,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-3 max-h-96 overflow-y-auto\",\n            children: data.expenses.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center py-8 text-fr-gray-500\",\n              children: [/*#__PURE__*/_jsxDEV(TrendingDown, {\n                className: \"w-8 h-8 mx-auto mb-2 opacity-50\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 637,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"No hay gastos en este per\\xEDodo\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 638,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 636,\n              columnNumber: 19\n            }, this) : sortTransactions(data.expenses, sortBy).map((expense, index) => {\n              const category = data.categories.find(c => c.id === expense.category_id);\n              const color = getCategoryColor(expense.category_id);\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `flex items-center justify-between p-3 rounded-fr bg-white border border-fr-gray-100 hover:shadow-sm transition-shadow`,\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex items-start space-x-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex-shrink-0 mt-1\",\n                    children: expense.paid ? /*#__PURE__*/_jsxDEV(CheckCircle, {\n                      className: \"w-5 h-5 text-fr-secondary\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 651,\n                      columnNumber: 33\n                    }, this) : /*#__PURE__*/_jsxDEV(XCircle, {\n                      className: \"w-5 h-5 text-fr-error\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 653,\n                      columnNumber: 33\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 649,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex-1\",\n                    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex items-center space-x-2\",\n                      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                        className: \"font-medium text-fr-gray-900 text-sm\",\n                        children: expense.description\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 659,\n                        columnNumber: 33\n                      }, this), !expense.paid && /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"badge-error text-xs\",\n                        children: \"Pendiente\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 663,\n                        columnNumber: 35\n                      }, this), category && /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: `px-2 py-1 rounded text-xs font-medium ${color.bg} ${color.text} border ${color.border}`,\n                        children: category.name\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 666,\n                        columnNumber: 35\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 658,\n                      columnNumber: 31\n                    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"text-xs text-fr-gray-500 mt-1\",\n                      children: [new Date(expense.created_at).toLocaleDateString('es-AR'), expense.due_date && /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"ml-2\",\n                        children: [\"\\u2022 Vence: \", new Date(expense.due_date).toLocaleDateString('es-AR')]\n                      }, void 0, true, {\n                        fileName: _jsxFileName,\n                        lineNumber: 674,\n                        columnNumber: 35\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 671,\n                      columnNumber: 31\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 657,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 647,\n                  columnNumber: 27\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-right ml-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"font-semibold text-fr-gray-900\",\n                    children: [\"-\", formatAmount(expense.amount)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 682,\n                    columnNumber: 29\n                  }, this), expense.percentage && /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-xs text-fr-gray-500\",\n                    children: [formatPercentage(expense.percentage), \" del total\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 686,\n                    columnNumber: 31\n                  }, this), expense.amount_paid > 0 && expense.amount_paid < expense.amount && /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-xs text-fr-gray-500\",\n                    children: [\"Pagado: \", formatAmount(expense.amount_paid)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 691,\n                    columnNumber: 31\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 681,\n                  columnNumber: 27\n                }, this)]\n              }, expense.id || index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 646,\n                columnNumber: 25\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 634,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 619,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"hidden lg:block absolute left-1/2 top-4 bottom-4 w-px bg-gradient-to-b from-transparent via-fr-gray-200 to-transparent transform -translate-x-1/2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 704,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"space-y-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-3 mb-4\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center justify-between\",\n              children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n                className: \"font-semibold text-fr-secondary flex items-center\",\n                children: [/*#__PURE__*/_jsxDEV(TrendingUp, {\n                  className: \"w-5 h-5 mr-2\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 711,\n                  columnNumber: 21\n                }, this), \"Ingresos\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 710,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"text-lg font-bold text-fr-secondary\",\n                children: formatAmount(data.totalIncome)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 714,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 709,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 708,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"space-y-3 max-h-96 overflow-y-auto\",\n            children: data.incomes.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-center py-8 text-fr-gray-500\",\n              children: [/*#__PURE__*/_jsxDEV(TrendingUp, {\n                className: \"w-8 h-8 mx-auto mb-2 opacity-50\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 724,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"No hay ingresos en este per\\xEDodo\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 725,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 723,\n              columnNumber: 19\n            }, this) : sortTransactions(data.incomes, sortBy).map((income, index) => {\n              const color = getCategoryColor(income.category_id);\n              const category = data.categories.find(c => c.id === income.category_id);\n              return /*#__PURE__*/_jsxDEV(\"div\", {\n                className: `flex items-center justify-between p-3 rounded-fr bg-white border border-fr-gray-100 hover:shadow-sm transition-shadow`,\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex-1\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center space-x-2\",\n                    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"font-medium text-fr-gray-900 text-sm\",\n                      children: income.description\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 736,\n                      columnNumber: 31\n                    }, this), category && /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: `px-2 py-1 rounded text-xs font-medium ${color.bg} ${color.text} border ${color.border}`,\n                      children: category.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 740,\n                      columnNumber: 33\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 735,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-xs text-fr-gray-500 mt-1\",\n                    children: new Date(income.created_at).toLocaleDateString('es-AR')\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 745,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 734,\n                  columnNumber: 27\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"text-right ml-3\",\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"font-semibold text-fr-secondary\",\n                    children: [\"+\", formatAmount(income.amount)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 750,\n                    columnNumber: 29\n                  }, this), income.percentage && /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-xs text-fr-gray-500\",\n                    children: formatPercentage(income.percentage)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 754,\n                    columnNumber: 31\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 749,\n                  columnNumber: 27\n                }, this)]\n              }, income.id || index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 733,\n                columnNumber: 25\n              }, this);\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 721,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 707,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 617,\n        columnNumber: 11\n      }, this), (data.expenses.length > 0 || data.incomes.length > 0) && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-6 pt-4 border-t border-fr-gray-200\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"font-medium text-fr-gray-600\",\n              children: \"Total gastos:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 773,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-right\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"font-bold text-fr-gray-900\",\n                children: formatAmount(data.totalExpenses)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 775,\n                columnNumber: 21\n              }, this), data.totalIncome > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-xs text-fr-gray-500\",\n                children: [(data.totalExpenses / data.totalIncome * 100).toFixed(1), \"% de ingresos\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 779,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 774,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 772,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center justify-between\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"font-medium text-fr-gray-600\",\n              children: \"Total ingresos:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 788,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-right\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"font-bold text-fr-secondary\",\n                children: formatAmount(data.totalIncome)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 790,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-xs text-fr-gray-500\",\n                children: \"100% base\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 793,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 789,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 787,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 770,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between pt-3 border-t border-fr-gray-200\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-fr-gray-600\",\n            children: \"Balance del per\\xEDodo:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 802,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: `text-xl font-bold ${data.balance >= 0 ? 'text-fr-secondary' : 'text-fr-error'}`,\n            children: [data.balance >= 0 ? '+' : '', formatAmount(data.balance)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 803,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 801,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 769,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 583,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-1 md:grid-cols-2 gap-4 lg:gap-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between mb-6\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-lg font-semibold text-fr-gray-900\",\n              children: hasActiveFilters ? `MÃ©tricas de ${getPeriodTitle()}` : 'MÃ©tricas del PerÃ­odo'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 818,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-fr-gray-500 mt-1\",\n              children: \"Estad\\xEDsticas clave de tus finanzas\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 821,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 817,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 816,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-2 gap-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-fr-gray-50 rounded-fr p-4\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center space-x-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"p-2 bg-blue-100 rounded-fr\",\n                children: /*#__PURE__*/_jsxDEV(BarChart3, {\n                  className: \"w-5 h-5 text-blue-600\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 832,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 831,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm text-fr-gray-600\",\n                  children: \"Total Transacciones\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 835,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-xl font-bold text-fr-gray-900\",\n                  children: data.expenses.length + data.incomes.length\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 836,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 834,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 830,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 829,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-fr-gray-50 rounded-fr p-4\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center space-x-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"p-2 bg-purple-100 rounded-fr\",\n                children: /*#__PURE__*/_jsxDEV(Calendar, {\n                  className: \"w-5 h-5 text-purple-600\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 847,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 846,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm text-fr-gray-600\",\n                  children: \"Promedio Diario\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 850,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-xl font-bold text-fr-gray-900\",\n                  children: (() => {\n                    const totalExpenses = data.expenses.reduce((sum, exp) => sum + exp.amount, 0);\n                    const daysInPeriod = hasActiveFilters ? 30 : 30; // Simplificado por ahora\n                    const dailyAvg = totalExpenses / daysInPeriod;\n                    return formatAmount(dailyAvg);\n                  })()\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 851,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 849,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 845,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 844,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-fr-gray-50 rounded-fr p-4\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center space-x-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"p-2 bg-orange-100 rounded-fr\",\n                children: /*#__PURE__*/_jsxDEV(Target, {\n                  className: \"w-5 h-5 text-orange-600\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 867,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 866,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm text-fr-gray-600\",\n                  children: \"Mayor Gasto\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 870,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm font-semibold text-fr-gray-900\",\n                  children: (() => {\n                    const categoryExpenses = {};\n                    data.expenses.forEach(expense => {\n                      if (!categoryExpenses[expense.category_id]) {\n                        categoryExpenses[expense.category_id] = 0;\n                      }\n                      categoryExpenses[expense.category_id] += expense.amount;\n                    });\n                    const topCategoryId = Object.keys(categoryExpenses).reduce((a, b) => categoryExpenses[a] > categoryExpenses[b] ? a : b, null);\n                    if (!topCategoryId) return 'Sin datos';\n                    const topCategory = data.categories.find(c => c.id == topCategoryId);\n                    return topCategory ? topCategory.name : 'Sin categorÃ­a';\n                  })()\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 871,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 869,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 865,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 864,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-fr-gray-50 rounded-fr p-4\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-center space-x-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"p-2 bg-red-100 rounded-fr\",\n                children: /*#__PURE__*/_jsxDEV(AlertCircle, {\n                  className: \"w-5 h-5 text-red-600\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 899,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 898,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm text-fr-gray-600\",\n                  children: \"Pendientes\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 902,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-xl font-bold text-red-600\",\n                  children: data.expenses.filter(exp => !exp.paid).length\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 903,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 901,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 897,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 896,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 827,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 815,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-semibold text-fr-gray-900 mb-6\",\n          children: [\"Gastos por Categor\\xEDa\", hasActiveFilters && ` - ${getPeriodTitle()}`]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 914,\n          columnNumber: 11\n        }, this), pieData.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-center\",\n          children: /*#__PURE__*/_jsxDEV(ResponsiveContainer, {\n            width: \"100%\",\n            height: 380,\n            children: /*#__PURE__*/_jsxDEV(RechartsPieChart, {\n              children: [/*#__PURE__*/_jsxDEV(Pie, {\n                data: pieData,\n                cx: \"50%\",\n                cy: \"45%\",\n                innerRadius: 50,\n                outerRadius: 110,\n                paddingAngle: 2,\n                dataKey: \"value\",\n                label: ({\n                  name,\n                  value,\n                  percent,\n                  midAngle,\n                  innerRadius,\n                  outerRadius,\n                  cx,\n                  cy\n                }) => {\n                  const RADIAN = Math.PI / 180;\n                  const radius = outerRadius + 40;\n                  const x = cx + radius * Math.cos(-midAngle * RADIAN);\n                  const y = cy + radius * Math.sin(-midAngle * RADIAN);\n                  return /*#__PURE__*/_jsxDEV(\"text\", {\n                    x: x,\n                    y: y,\n                    fill: \"#374151\",\n                    textAnchor: x > cx ? 'start' : 'end',\n                    dominantBaseline: \"central\",\n                    fontSize: \"13\",\n                    fontWeight: \"500\",\n                    children: `${name}: ${value.toFixed(1)}%`\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 936,\n                    columnNumber: 25\n                  }, this);\n                },\n                labelLine: false,\n                startAngle: 90,\n                endAngle: 450,\n                children: pieData.map((entry, index) => /*#__PURE__*/_jsxDEV(Cell, {\n                  fill: entry.color,\n                  stroke: \"#ffffff\",\n                  strokeWidth: 2\n                }, `cell-${index}`, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 954,\n                  columnNumber: 25\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 921,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n                formatter: (value, name, props) => [`${value.toFixed(1)}% (${formatCurrency(props.payload.amount)})`, 'Porcentaje'],\n                contentStyle: {\n                  backgroundColor: 'white',\n                  border: '1px solid #e5e7eb',\n                  borderRadius: '8px',\n                  boxShadow: '0 4px 12px 0 rgba(0, 0, 0, 0.15)'\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 962,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 920,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 919,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 918,\n          columnNumber: 25\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex flex-col items-center justify-center h-64 text-center\",\n          children: [/*#__PURE__*/_jsxDEV(PieChart, {\n            className: \"w-12 h-12 text-fr-gray-400 mb-4\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 979,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n            className: \"text-lg font-medium text-fr-gray-600 mb-2\",\n            children: \"No hay gastos por categor\\xEDas\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 980,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-fr-gray-500\",\n            children: \"Los gastos aparecer\\xE1n aqu\\xED una vez que agregues algunos gastos con categor\\xEDas\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 981,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 978,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 913,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 813,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-lg font-semibold text-fr-gray-900\",\n          children: \"Transacciones Recientes\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 992,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn-ghost\",\n          children: \"Ver todas\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 993,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 991,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-4\",\n        children: (() => {\n          const allTransactions = [...data.expenses.slice(0, 3), ...data.incomes.slice(0, 2)];\n          const sortedTransactions = allTransactions.sort((a, b) => new Date(b.created_at) - new Date(a.created_at)).slice(0, 5);\n          return sortedTransactions.map((transaction, index) => {\n            const isExpense = transaction.hasOwnProperty('paid');\n            const color = getCategoryColor(transaction.category_id);\n            const category = data.categories.find(c => c.id === transaction.category_id);\n            return /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `flex items-center justify-between p-4 rounded-fr bg-fr-gray-50 border-l-4 ${color.border || (isExpense ? 'border-fr-gray-900' : 'border-fr-secondary')}`,\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"flex items-center space-x-3\",\n                children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                  className: `p-2 rounded-fr ${isExpense ? 'bg-gray-100' : 'bg-green-100'}`,\n                  children: isExpense ? /*#__PURE__*/_jsxDEV(TrendingDown, {\n                    className: \"w-4 h-4 text-fr-gray-900\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1011,\n                    columnNumber: 25\n                  }, this) : /*#__PURE__*/_jsxDEV(TrendingUp, {\n                    className: \"w-4 h-4 text-fr-secondary\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1013,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1009,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"flex-1\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center space-x-2\",\n                    children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                      className: \"font-medium text-fr-gray-900\",\n                      children: transaction.description\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1018,\n                      columnNumber: 25\n                    }, this), isExpense && /*#__PURE__*/_jsxDEV(\"div\", {\n                      className: \"flex items-center space-x-1\",\n                      children: [transaction.paid ? /*#__PURE__*/_jsxDEV(CheckCircle, {\n                        className: \"w-4 h-4 text-fr-secondary\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1023,\n                        columnNumber: 31\n                      }, this) : /*#__PURE__*/_jsxDEV(XCircle, {\n                        className: \"w-4 h-4 text-fr-error\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1025,\n                        columnNumber: 31\n                      }, this), !transaction.paid && /*#__PURE__*/_jsxDEV(\"span\", {\n                        className: \"badge-error text-xs\",\n                        children: \"Pendiente\"\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 1028,\n                        columnNumber: 31\n                      }, this)]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1021,\n                      columnNumber: 27\n                    }, this), category && /*#__PURE__*/_jsxDEV(\"span\", {\n                      className: `px-2 py-1 rounded text-xs font-medium ${color.bg} ${color.text} border ${color.border}`,\n                      children: category.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 1034,\n                      columnNumber: 27\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1017,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"text-sm text-fr-gray-500\",\n                    children: transaction.created_at ? formatDate(transaction.created_at) : 'Fecha no disponible'\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 1039,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1016,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1008,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"text-right\",\n                children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                  className: `font-semibold ${isExpense ? 'text-fr-gray-900' : 'text-fr-secondary'}`,\n                  children: [isExpense ? '-' : '+', formatAmount(transaction.amount)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1045,\n                  columnNumber: 21\n                }, this), transaction.percentage && /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"text-sm text-fr-gray-500\",\n                  children: [formatPercentage(transaction.percentage), \" del total\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1049,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1044,\n                columnNumber: 19\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1007,\n              columnNumber: 17\n            }, this);\n          });\n        })()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 995,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 990,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 482,\n    columnNumber: 5\n  }, this);\n};\n_s(Dashboard, \"rYCVtWtQFyuYpemR/Ur5b3OdVDk=\", false, function () {\n  return [usePeriod, useAuth];\n});\n_c = Dashboard;\nexport default Dashboard;\nvar _c;\n$RefreshReg$(_c, \"Dashboard\");","map":{"version":3,"names":["React","useState","useEffect","TrendingUp","TrendingDown","DollarSign","PieChart","ArrowUpRight","ArrowDownRight","Calendar","CheckCircle","XCircle","BarChart3","Target","AlertCircle","AreaChart","Area","XAxis","YAxis","CartesianGrid","Tooltip","ResponsiveContainer","RechartsPieChart","Pie","Cell","expensesAPI","incomesAPI","categoriesAPI","dashboardAPI","analyticsAPI","formatCurrency","formatDate","formatPercentage","formatPercentageUtil","usePeriod","useAuth","toast","jsxDEV","_jsxDEV","Dashboard","_s","loading","setLoading","sortBy","setSortBy","data","setData","totalIncome","totalExpenses","balance","expenses","incomes","categories","selectedYear","selectedMonth","hasActiveFilters","balancesHidden","getFilterParams","getPeriodTitle","updateAvailableData","user","isAuthenticated","getAuthHeaders","console","log","token","localStorage","getItem","authHeaders","testNewEndpoints","dashboardResponse","overview","year","expensesResponse","limit","categoriesResponse","incomesResponse","success","error","message","setTimeout","loadDashboardData","shouldUpdateAvailableData","filterParams","_oldCategoriesRespons","_dashboard$Metrics","_dashboard$Metrics2","_dashboard$Metrics3","oldCategoriesResponse","Promise","all","sort","order","list","dashboard","expensesData","incomesData","categoriesData","categoriesForDropdown","normalizedExpenses","Expenses","map","expense","id","ID","user_id","UserID","amount","Amount","amount_paid","AmountPaid","pending_amount","PendingAmount","description","Description","category_id","CategoryID","paid","Paid","undefined","due_date","DueDate","percentage","PercentageOfIncome","created_at","CreatedAt","updated_at","UpdatedAt","normalizedIncomes","Incomes","income","Metrics","TotalIncome","TotalExpenses","Balance","Array","isArray","dashboardMetrics","expensesSummary","Summary","categoriesAnalytics","Categories","allExpenses","allIncomes","newEndpointsError","_expensesResponse$dat","_incomesResponse$data","_categoriesResponse$d","warn","filteredExpenses","filterDataByMonthAndYear","filteredIncomes","reduce","sum","duration","formatAmount","dataArray","monthFilter","yearFilter","filter","item","itemDate","Date","isNaN","getTime","getFullYear","toString","itemMonth","toISOString","slice","formatMonthLabel","monthString","month","split","date","parseInt","formatted","toLocaleDateString","capitalized","charAt","toUpperCase","getCategoryColor","categoryId","colors","bg","border","text","hash","i","length","charCodeAt","colorIndex","Math","abs","calculateCategoryData","result","category","index","name","Name","CategoryName","category_name","value","Percentage","PercentageOfExpenses","percentage_of_expenses","TotalAmount","total_amount","color","categoryTotals","forEach","find","c","categoryName","Object","entries","a","b","calculateChartData","periodLabel","ingresos","gastos","chartData","pieData","sortTransactions","transactions","sortType","sorted","dateA","dateB","amountA","Number","amountB","_data$categories$find","_data$categories$find2","categoryA","categoryB","localeCompare","className","children","fileName","_jsxFileName","lineNumber","columnNumber","e","onChange","target","toFixed","exp","daysInPeriod","dailyAvg","categoryExpenses","topCategoryId","keys","topCategory","width","height","cx","cy","innerRadius","outerRadius","paddingAngle","dataKey","label","percent","midAngle","RADIAN","PI","radius","x","cos","y","sin","fill","textAnchor","dominantBaseline","fontSize","fontWeight","labelLine","startAngle","endAngle","entry","stroke","strokeWidth","formatter","props","payload","contentStyle","backgroundColor","borderRadius","boxShadow","allTransactions","sortedTransactions","transaction","isExpense","hasOwnProperty","_c","$RefreshReg$"],"sources":["/Users/pmelegatti/Development/Financial Resume/financial-resume-engine-frontend/src/pages/Dashboard.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { \n  TrendingUp, \n  TrendingDown, \n  DollarSign, \n  PieChart,\n  ArrowUpRight,\n  ArrowDownRight,\n  Calendar,\n  CheckCircle,\n  XCircle,\n  BarChart3,\n  Target,\n  AlertCircle\n} from 'lucide-react';\nimport { \n  AreaChart, \n  Area, \n  XAxis, \n  YAxis, \n  CartesianGrid, \n  Tooltip, \n  ResponsiveContainer,\n  PieChart as RechartsPieChart,\n  Pie,\n  Cell\n} from 'recharts';\nimport { expensesAPI, incomesAPI, categoriesAPI, dashboardAPI, analyticsAPI, formatCurrency, formatDate, formatPercentage as formatPercentageUtil } from '../services/api';\nimport { usePeriod } from '../contexts/PeriodContext';\nimport { useAuth } from '../contexts/AuthContext';\nimport toast from 'react-hot-toast';\n\nconst Dashboard = () => {\n  const [loading, setLoading] = useState(true);\n  const [sortBy, setSortBy] = useState('fecha'); // nuevo estado para ordenamiento\n  const [data, setData] = useState({\n    totalIncome: 0,\n    totalExpenses: 0,\n    balance: 0,\n    expenses: [],\n    incomes: [],\n    categories: [],\n  });\n\n  // Usar el contexto global de perÃ­odo\n  const {\n    selectedYear,\n    selectedMonth,\n    hasActiveFilters,\n    balancesHidden,\n    getFilterParams,\n    getPeriodTitle,\n    updateAvailableData,\n  } = usePeriod();\n\n  // Usar el contexto de autenticaciÃ³n\n  const { user, isAuthenticated, getAuthHeaders } = useAuth();\n\n  // Debug de autenticaciÃ³n\n  useEffect(() => {\n    console.log('ðŸ” Dashboard - Estado de autenticaciÃ³n:', {\n      isAuthenticated,\n      user,\n      token: localStorage.getItem('auth_token') ? 'EXISTS' : 'MISSING',\n      authHeaders: getAuthHeaders()\n    });\n  }, [isAuthenticated, user, getAuthHeaders]);\n\n  // FunciÃ³n de prueba para verificar endpoints\n  const testNewEndpoints = async () => {\n    if (!isAuthenticated) {\n      console.log('âŒ Usuario no autenticado, no se pueden probar endpoints');\n      return;\n    }\n\n    console.log('ðŸ§ª Probando nuevos endpoints...');\n    \n    try {\n      // Probar dashboard endpoint\n      console.log('ðŸ“Š Probando /api/v1/dashboard...');\n      const dashboardResponse = await dashboardAPI.overview({ year: 2024 });\n      console.log('âœ… Dashboard endpoint funciona:', dashboardResponse.data);\n      \n      // Probar analytics endpoints\n      console.log('ðŸ“ˆ Probando /api/v1/analytics/expenses...');\n      const expensesResponse = await analyticsAPI.expenses({ year: 2024, limit: 5 });\n      console.log('âœ… Expenses analytics funciona:', expensesResponse.data);\n      \n      console.log('ðŸ“Š Probando /api/v1/analytics/categories...');\n      const categoriesResponse = await analyticsAPI.categories({ year: 2024 });\n      console.log('âœ… Categories analytics funciona:', categoriesResponse.data);\n      \n      console.log('ðŸ’° Probando /api/v1/analytics/incomes...');\n      const incomesResponse = await analyticsAPI.incomes({ year: 2024 });\n      console.log('âœ… Incomes analytics funciona:', incomesResponse.data);\n      \n      toast.success('Â¡Todos los endpoints nuevos funcionan correctamente!');\n    } catch (error) {\n      console.error('âŒ Error probando endpoints:', error);\n      toast.error('Error probando endpoints: ' + error.message);\n    }\n  };\n\n  // Ejecutar prueba cuando el usuario estÃ© autenticado\n  useEffect(() => {\n    if (isAuthenticated && user) {\n      // Esperar un poco para que se cargue todo\n      setTimeout(testNewEndpoints, 2000);\n    }\n  }, [isAuthenticated, user]);\n\n  // Cargar datos iniciales (incluyendo calcular meses disponibles)\n  useEffect(() => {\n    loadDashboardData();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n\n  // Recargar datos cuando cambien los filtros del contexto global (sin recalcular meses)\n  useEffect(() => {\n    if (selectedMonth !== null || selectedYear !== null) {\n      loadDashboardData(false); // false = no recalcular meses disponibles\n    }\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [selectedMonth, selectedYear]);\n\n  const loadDashboardData = async (shouldUpdateAvailableData = true) => {\n    try {\n      setLoading(true);\n      \n      // Obtener parÃ¡metros de filtro del contexto global\n      const filterParams = getFilterParams();\n\n      let data = {};\n\n      try {\n        // Intentar usar los nuevos endpoints del backend\n        const [dashboardResponse, expensesResponse, incomesResponse, categoriesResponse, oldCategoriesResponse] = await Promise.all([\n          dashboardAPI.overview(filterParams),\n          analyticsAPI.expenses({ ...filterParams, sort: 'date', order: 'desc', limit: 50 }),\n          analyticsAPI.incomes({ ...filterParams, sort: 'date', order: 'desc', limit: 50 }),\n          analyticsAPI.categories(filterParams),\n          categoriesAPI.list(), // Mantener para dropdown de filtros\n        ]);\n\n        // Extraer datos de las respuestas del backend\n        const dashboard = dashboardResponse.data || {};\n        const expensesData = expensesResponse.data || {};\n        const incomesData = incomesResponse.data || {};\n        const categoriesData = categoriesResponse.data || {};\n        const categoriesForDropdown = oldCategoriesResponse.data?.data || oldCategoriesResponse.data || [];\n\n        // Normalizar datos del backend (convertir PascalCase a camelCase)\n        const normalizedExpenses = (expensesData.Expenses || []).map(expense => ({\n          id: expense.ID || expense.id,\n          user_id: expense.UserID || expense.user_id,\n          amount: expense.Amount || expense.amount,\n          amount_paid: expense.AmountPaid || expense.amount_paid,\n          pending_amount: expense.PendingAmount || expense.pending_amount,\n          description: expense.Description || expense.description,\n          category_id: expense.CategoryID || expense.category_id,\n          paid: expense.Paid !== undefined ? expense.Paid : expense.paid,\n          due_date: expense.DueDate || expense.due_date,\n          percentage: expense.PercentageOfIncome || expense.percentage,\n          created_at: expense.CreatedAt || expense.created_at,\n          updated_at: expense.UpdatedAt || expense.updated_at\n        }));\n\n        const normalizedIncomes = (incomesData.Incomes || []).map(income => ({\n          id: income.ID || income.id,\n          user_id: income.UserID || income.user_id,\n          amount: income.Amount || income.amount,\n          description: income.Description || income.description,\n          category_id: income.CategoryID || income.category_id,\n          created_at: income.CreatedAt || income.created_at,\n          updated_at: income.UpdatedAt || income.updated_at\n        }));\n\n        // Usar datos pre-calculados del backend\n        data = {\n          // MÃ©tricas del dashboard (pre-calculadas por backend)\n          totalIncome: dashboard.Metrics?.TotalIncome || 0,\n          totalExpenses: dashboard.Metrics?.TotalExpenses || 0,\n          balance: dashboard.Metrics?.Balance || 0,\n          \n          // Transacciones normalizadas con porcentajes calculados por backend\n          expenses: normalizedExpenses,\n          incomes: normalizedIncomes,\n          \n          // CategorÃ­as para dropdown de filtros\n          categories: Array.isArray(categoriesForDropdown) ? categoriesForDropdown : [],\n          \n          // Datos adicionales del backend\n          dashboardMetrics: dashboard.Metrics || {},\n          expensesSummary: expensesData.Summary || {},\n          categoriesAnalytics: categoriesData.Categories || [],\n          \n          // Datos sin filtrar para calcular meses disponibles\n          allExpenses: normalizedExpenses,\n          allIncomes: normalizedIncomes,\n        };\n\n        console.log('âœ… Usando nuevos endpoints del backend');\n      } catch (newEndpointsError) {\n        console.warn('âš ï¸ Nuevos endpoints no disponibles, usando endpoints legacy:', newEndpointsError.message);\n        \n        // Fallback a endpoints viejos con cÃ¡lculos client-side\n        const [expensesResponse, incomesResponse, categoriesResponse] = await Promise.all([\n          expensesAPI.list(),\n          incomesAPI.list(),\n          categoriesAPI.list(),\n        ]);\n\n        // Asegurar que siempre sean arrays\n        const expensesData = expensesResponse.data?.expenses || expensesResponse.expenses || [];\n        const incomesData = incomesResponse.data?.incomes || incomesResponse.incomes || [];\n        const categoriesData = categoriesResponse.data?.data || categoriesResponse.data || [];\n        \n        const expenses = Array.isArray(expensesData) ? expensesData : [];\n        const incomes = Array.isArray(incomesData) ? incomesData : [];\n        const categories = Array.isArray(categoriesData) ? categoriesData : [];\n\n        // Filtrar datos client-side si hay filtros activos\n        const filteredExpenses = filterDataByMonthAndYear(expenses, selectedMonth, selectedYear);\n        const filteredIncomes = filterDataByMonthAndYear(incomes, selectedMonth, selectedYear);\n\n        const totalExpenses = filteredExpenses.reduce((sum, expense) => sum + expense.amount, 0);\n        const totalIncome = filteredIncomes.reduce((sum, income) => sum + income.amount, 0);\n\n        data = {\n          totalIncome,\n          totalExpenses,\n          balance: totalIncome - totalExpenses,\n          expenses: filteredExpenses,\n          incomes: filteredIncomes,\n          categories,\n          dashboardMetrics: {},\n          expensesSummary: {},\n          categoriesAnalytics: [],\n          \n          // Datos sin filtrar para calcular meses disponibles\n          allExpenses: expenses,\n          allIncomes: incomes,\n        };\n\n        console.log('âœ… Usando endpoints legacy con cÃ¡lculos client-side');\n      }\n\n      setData(data);\n      \n      // Actualizar datos disponibles en el contexto global solo la primera vez\n      if (shouldUpdateAvailableData) {\n        updateAvailableData(data.allExpenses || data.expenses, data.allIncomes || data.incomes);\n      }\n    } catch (error) {\n      console.warn('âš ï¸ Todos los endpoints fallaron, usando datos vacÃ­os:', error.message);\n      \n      // Establecer datos vacÃ­os en lugar de datos mock\n      setData({\n        totalIncome: 0,\n        totalExpenses: 0,\n        balance: 0,\n        expenses: [],\n        incomes: [],\n        categories: [],\n        dashboardMetrics: {},\n        expensesSummary: {},\n        categoriesAnalytics: [],\n      });\n      \n      if (shouldUpdateAvailableData) {\n        updateAvailableData([], []);\n      }\n      \n      // Solo mostrar error si realmente hay un problema de conectividad\n      toast.error('Error al cargar los datos del dashboard', {\n        duration: 3000,\n      });\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const formatAmount = (amount) => {\n    if (balancesHidden) return 'â€¢â€¢â€¢â€¢â€¢â€¢';\n    return formatCurrency(amount);\n  };\n\n  const formatPercentage = (percentage) => {\n    return formatPercentageUtil(percentage);\n  };\n\n  // FunciÃ³n para filtrar datos client-side (fallback cuando nuevos endpoints no disponibles)\n  const filterDataByMonthAndYear = (dataArray, monthFilter, yearFilter) => {\n    if (!hasActiveFilters) return dataArray;\n    \n    return dataArray.filter(item => {\n      // Validar que tenga fecha vÃ¡lida\n      if (!item.created_at) return false;\n      \n      const itemDate = new Date(item.created_at);\n      \n      // Validar que la fecha sea vÃ¡lida\n      if (isNaN(itemDate.getTime())) return false;\n      \n      // Filtrar por aÃ±o si estÃ¡ seleccionado\n      if (yearFilter && itemDate.getFullYear().toString() !== yearFilter) {\n        return false;\n      }\n      \n      // Filtrar por mes si estÃ¡ seleccionado\n      if (monthFilter) {\n        const itemMonth = itemDate.toISOString().slice(0, 7);\n        return itemMonth === monthFilter;\n      }\n      \n      return true;\n    });\n  };\n  \n  const formatMonthLabel = (monthString) => {\n    // Evitar problemas de zona horaria usando constructor numÃ©rico\n    const [year, month] = monthString.split('-');\n    const date = new Date(parseInt(year), parseInt(month) - 1, 1); // month es 0-indexed\n    const formatted = date.toLocaleDateString('es-AR', { \n      year: 'numeric', \n      month: 'long' \n    });\n    // Capitalizar la primera letra del mes\n    const capitalized = formatted.charAt(0).toUpperCase() + formatted.slice(1);\n    return capitalized;\n  };\n\n  // FunciÃ³n para obtener colores por categorÃ­a\n  const getCategoryColor = (categoryId) => {\n    const colors = [\n      { bg: 'bg-blue-100', border: 'border-blue-400', text: 'text-blue-700' },\n      { bg: 'bg-green-100', border: 'border-green-400', text: 'text-green-700' },\n      { bg: 'bg-yellow-100', border: 'border-yellow-400', text: 'text-yellow-700' },\n      { bg: 'bg-purple-100', border: 'border-purple-400', text: 'text-purple-700' },\n      { bg: 'bg-pink-100', border: 'border-pink-400', text: 'text-pink-700' },\n      { bg: 'bg-indigo-100', border: 'border-indigo-400', text: 'text-indigo-700' },\n      { bg: 'bg-cyan-100', border: 'border-cyan-400', text: 'text-cyan-700' },\n      { bg: 'bg-orange-100', border: 'border-orange-400', text: 'text-orange-700' },\n    ];\n    \n    if (!categoryId) {\n      return { bg: 'bg-gray-100', border: 'border-gray-400', text: 'text-gray-700' };\n    }\n    \n    // Usar el hash del categoryId para asignar colores consistentes\n    let hash = 0;\n    for (let i = 0; i < categoryId.length; i++) {\n      hash = categoryId.charCodeAt(i) + ((hash << 5) - hash);\n    }\n    const colorIndex = Math.abs(hash) % colors.length;\n    return colors[colorIndex];\n  };\n\n  // Usar datos de categorÃ­as pre-calculados del backend o calcular client-side\n  const calculateCategoryData = () => {\n    // Si tenemos datos del backend analytics, usarlos\n    if (data.categoriesAnalytics && data.categoriesAnalytics.length) {\n      const colors = ['#009ee3', '#00a650', '#ff6900', '#e53e3e', '#6b7280', '#8b5cf6', '#f59e0b'];\n      \n      console.log('ðŸ” Datos de categorÃ­as del backend:', data.categoriesAnalytics);\n      \n      const result = data.categoriesAnalytics.map((category, index) => ({\n        name: category.Name || category.CategoryName || category.category_name || 'Sin nombre',\n        value: category.Percentage || category.PercentageOfExpenses || category.percentage_of_expenses || 0,\n        amount: category.TotalAmount || category.total_amount || 0,\n        color: colors[index % colors.length]\n      })).filter(item => item.value > 0);\n      \n      console.log('ðŸ“Š Datos procesados para el grÃ¡fico:', result);\n      return result;\n    }\n\n    // Fallback: calcular client-side si no hay datos del backend\n    if (!data.expenses || !data.expenses.length) {\n      return [];\n    }\n\n    const categoryTotals = {};\n    const totalExpenses = data.expenses.reduce((sum, expense) => sum + expense.amount, 0);\n\n    // Agrupar gastos por categorÃ­a\n    data.expenses.forEach(expense => {\n      const categoryId = expense.category_id || 'sin-categoria';\n      const category = data.categories.find(c => c.id === categoryId);\n      const categoryName = category ? category.name : 'Sin categorÃ­a';\n      \n      if (!categoryTotals[categoryId]) {\n        categoryTotals[categoryId] = {\n          name: categoryName,\n          amount: 0\n        };\n      }\n      categoryTotals[categoryId].amount += expense.amount;\n    });\n\n    // Convertir a formato del grÃ¡fico\n    const colors = ['#009ee3', '#00a650', '#ff6900', '#e53e3e', '#6b7280', '#8b5cf6', '#f59e0b'];\n    \n    return Object.entries(categoryTotals)\n      .map(([categoryId, data], index) => ({\n        name: data.name,\n        value: totalExpenses > 0 ? (data.amount / totalExpenses) * 100 : 0,\n        amount: data.amount,\n        color: colors[index % colors.length]\n      }))\n      .filter(item => item.value > 0)\n      .sort((a, b) => b.amount - a.amount); // Ordenar por monto descendente\n  };\n\n  // Datos simplificados del grÃ¡fico usando mÃ©tricas del backend\n  const calculateChartData = () => {\n    let periodLabel = 'Total';\n    \n    if (selectedMonth && selectedYear) {\n      periodLabel = formatMonthLabel(selectedMonth);\n    } else if (selectedMonth) {\n      periodLabel = new Date(selectedMonth + '-01').toLocaleDateString('es-AR', { month: 'short' });\n    } else if (selectedYear) {\n      periodLabel = selectedYear;\n    }\n    \n    return [{\n      name: periodLabel,\n      ingresos: data.totalIncome,\n      gastos: data.totalExpenses\n    }];\n  };\n\n  // Datos para los grÃ¡ficos\n  const chartData = calculateChartData();\n  const pieData = calculateCategoryData();\n\n  // FunciÃ³n para ordenar transacciones\n  const sortTransactions = (transactions, sortType) => {\n    const sorted = [...transactions];\n    \n    switch (sortType) {\n      case 'fecha':\n        return sorted.sort((a, b) => {\n          const dateA = new Date(a.created_at);\n          const dateB = new Date(b.created_at);\n          \n          // Manejar fechas invÃ¡lidas - ponerlas al final\n          if (isNaN(dateA.getTime()) && isNaN(dateB.getTime())) return 0;\n          if (isNaN(dateA.getTime())) return 1;\n          if (isNaN(dateB.getTime())) return -1;\n          \n          return dateB - dateA;\n        });\n      case 'monto':\n        return sorted.sort((a, b) => {\n          const amountA = Number(a.amount) || 0;\n          const amountB = Number(b.amount) || 0;\n          return amountB - amountA;\n        });\n      case 'categoria':\n        return sorted.sort((a, b) => {\n          const categoryA = data.categories.find(c => c.id === a.category_id)?.name || 'Sin categorÃ­a';\n          const categoryB = data.categories.find(c => c.id === b.category_id)?.name || 'Sin categorÃ­a';\n          return categoryA.localeCompare(categoryB);\n        });\n      default:\n        return sorted;\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center h-64\">\n        <div className=\"spinner\"></div>\n        <span className=\"ml-2 text-fr-gray-600\">Cargando dashboard...</span>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* MÃ©tricas principales */}\n      <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6\">\n        {/* Balance total */}\n        <div className=\"card\">\n          <div className=\"flex items-start justify-between\">\n            <div className=\"flex-1 min-w-0\">\n              <p className=\"text-sm font-medium text-fr-gray-600\">\n                Balance Total\n              </p>\n              <p className={`text-xl lg:text-2xl font-bold ${data.balance >= 0 ? 'text-fr-secondary' : 'text-fr-error'} break-words`}>\n                {formatAmount(data.balance)}\n              </p>\n            </div>\n            <div className={`flex-shrink-0 p-2 lg:p-3 rounded-fr ${data.balance >= 0 ? 'bg-green-100' : 'bg-red-100'} ml-2`}>\n              <DollarSign className={`w-5 h-5 lg:w-6 lg:h-6 ${data.balance >= 0 ? 'text-fr-secondary' : 'text-fr-error'}`} />\n            </div>\n          </div>\n          <div className=\"mt-3 flex items-center\">\n            {data.balance >= 0 ? (\n              <ArrowUpRight className=\"w-4 h-4 text-fr-secondary mr-1 flex-shrink-0\" />\n            ) : (\n              <ArrowDownRight className=\"w-4 h-4 text-fr-error mr-1 flex-shrink-0\" />\n            )}\n            <span className={`text-sm ${data.balance >= 0 ? 'text-fr-secondary' : 'text-fr-error'}`}>\n              {data.balance >= 0 ? 'Positivo' : 'Negativo'}\n            </span>\n          </div>\n        </div>\n\n        {/* Total ingresos */}\n        <div className=\"card\">\n          <div className=\"flex items-start justify-between\">\n            <div className=\"flex-1 min-w-0\">\n              <p className=\"text-sm font-medium text-fr-gray-600\">\n                Total Ingresos\n              </p>\n              <p className=\"text-xl lg:text-2xl font-bold text-fr-secondary break-words\">\n                {formatAmount(data.totalIncome)}\n              </p>\n            </div>\n            <div className=\"flex-shrink-0 p-2 lg:p-3 rounded-fr bg-green-100 ml-2\">\n              <TrendingUp className=\"w-5 h-5 lg:w-6 lg:h-6 text-fr-secondary\" />\n            </div>\n          </div>\n          <div className=\"mt-3 flex items-center\">\n            <TrendingUp className=\"w-4 h-4 text-fr-secondary mr-1 flex-shrink-0\" />\n            <span className=\"text-sm text-fr-gray-500\">\n              {data.incomes.length} {data.incomes.length === 1 ? 'ingreso' : 'ingresos'} registrados\n            </span>\n          </div>\n        </div>\n\n        {/* Total gastos */}\n        <div className=\"card\">\n          <div className=\"flex items-start justify-between\">\n            <div className=\"flex-1 min-w-0\">\n              <p className=\"text-sm font-medium text-fr-gray-600\">\n                Total Gastos\n              </p>\n              <p className=\"text-xl lg:text-2xl font-bold text-fr-gray-900 break-words\">\n                {formatAmount(data.totalExpenses)}\n              </p>\n            </div>\n            <div className=\"flex-shrink-0 p-2 lg:p-3 rounded-fr bg-gray-100 ml-2\">\n              <TrendingDown className=\"w-5 h-5 lg:w-6 lg:h-6 text-fr-gray-900\" />\n            </div>\n          </div>\n          <div className=\"mt-3 flex items-center\">\n            <TrendingDown className=\"w-4 h-4 text-fr-gray-900 mr-1 flex-shrink-0\" />\n            <span className=\"text-sm text-fr-gray-500\">\n              {data.expenses.length} {data.expenses.length === 1 ? 'gasto' : 'gastos'} registrados\n            </span>\n          </div>\n        </div>\n\n        {/* Gastos pendientes */}\n        <div className=\"card\">\n          <div className=\"flex items-start justify-between\">\n            <div className=\"flex-1 min-w-0\">\n              <p className=\"text-sm font-medium text-fr-gray-600\">\n                Gastos Pendientes\n              </p>\n              <p className=\"text-xl lg:text-2xl font-bold text-fr-gray-900\">\n                {data.expenses.filter(e => !e.paid).length}\n              </p>\n            </div>\n            <div className=\"flex-shrink-0 p-2 lg:p-3 rounded-fr bg-gray-100 ml-2\">\n              <Calendar className=\"w-5 h-5 lg:w-6 lg:h-6 text-fr-gray-900\" />\n            </div>\n          </div>\n          <div className=\"mt-3\">\n            <span className=\"text-sm text-fr-gray-500\">\n              {formatAmount(data.expenses.filter(e => !e.paid).reduce((sum, e) => sum + e.amount, 0))} por pagar\n            </span>\n          </div>\n        </div>\n      </div>\n\n      {/* Transacciones por mes - Dos columnas */}\n      {hasActiveFilters && (data.expenses.length > 0 || data.incomes.length > 0) && (\n        <div className=\"card\">\n          <div className=\"flex items-center justify-between mb-6\">\n            <h3 className=\"text-lg font-semibold text-fr-gray-900\">\n              ðŸ’° Transacciones de {getPeriodTitle()}\n            </h3>\n            <div className=\"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0\">\n              {/* Dropdown de ordenamiento */}\n              <div className=\"flex items-center space-x-2\">\n                <label className=\"text-sm font-medium text-fr-gray-600\">Ordenar por:</label>\n                <select\n                  value={sortBy}\n                  onChange={(e) => setSortBy(e.target.value)}\n                  className=\"text-sm border border-fr-gray-300 rounded-fr px-3 py-1 focus:outline-none focus:ring-2 focus:ring-fr-primary focus:border-transparent\"\n                >\n                  <option value=\"fecha\">Fecha</option>\n                  <option value=\"monto\">Monto</option>\n                  <option value=\"categoria\">CategorÃ­a</option>\n                </select>\n              </div>\n              \n              {/* Indicadores de cantidad */}\n              <div className=\"flex items-center space-x-4 text-sm\">\n                <div className=\"flex items-center\">\n                  <div className=\"w-3 h-3 bg-fr-error rounded-full mr-2\"></div>\n                  <span className=\"text-fr-gray-600\">Gastos ({data.expenses.length})</span>\n                </div>\n                <div className=\"flex items-center\">\n                  <div className=\"w-3 h-3 bg-fr-secondary rounded-full mr-2\"></div>\n                  <span className=\"text-fr-gray-600\">Ingresos ({data.incomes.length})</span>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <div className=\"relative grid grid-cols-1 md:grid-cols-2 gap-4 lg:gap-6 xl:gap-8\">\n            {/* Columna de Gastos */}\n            <div className=\"space-y-4\">\n              <div className=\"space-y-3 mb-4\">\n                <div className=\"flex items-center justify-between\">\n                  <h4 className=\"font-semibold text-fr-gray-900 flex items-center\">\n                    <TrendingDown className=\"w-5 h-5 mr-2\" />\n                    Gastos\n                  </h4>\n                  <span className=\"text-lg font-bold text-fr-gray-900\">\n                    {formatAmount(data.totalExpenses)}\n                  </span>\n                </div>\n                \n\n              </div>\n              \n              <div className=\"space-y-3 max-h-96 overflow-y-auto\">\n                {data.expenses.length === 0 ? (\n                  <div className=\"text-center py-8 text-fr-gray-500\">\n                    <TrendingDown className=\"w-8 h-8 mx-auto mb-2 opacity-50\" />\n                    <p>No hay gastos en este perÃ­odo</p>\n                  </div>\n                ) : (\n                  sortTransactions(data.expenses, sortBy)\n                    .map((expense, index) => {\n                      const category = data.categories.find(c => c.id === expense.category_id);\n                      const color = getCategoryColor(expense.category_id);\n                      return (\n                        <div key={expense.id || index} className={`flex items-center justify-between p-3 rounded-fr bg-white border border-fr-gray-100 hover:shadow-sm transition-shadow`}>\n                          <div className=\"flex items-start space-x-3\">\n                            {/* Indicador de pago */}\n                            <div className=\"flex-shrink-0 mt-1\">\n                              {expense.paid ? (\n                                <CheckCircle className=\"w-5 h-5 text-fr-secondary\" />\n                              ) : (\n                                <XCircle className=\"w-5 h-5 text-fr-error\" />\n                              )}\n                            </div>\n                            \n                            <div className=\"flex-1\">\n                              <div className=\"flex items-center space-x-2\">\n                                <p className=\"font-medium text-fr-gray-900 text-sm\">\n                                  {expense.description}\n                                </p>\n                                {!expense.paid && (\n                                  <span className=\"badge-error text-xs\">Pendiente</span>\n                                )}\n                                {category && (\n                                  <span className={`px-2 py-1 rounded text-xs font-medium ${color.bg} ${color.text} border ${color.border}`}>\n                                    {category.name}\n                                  </span>\n                                )}\n                              </div>\n                              <p className=\"text-xs text-fr-gray-500 mt-1\">\n                                {new Date(expense.created_at).toLocaleDateString('es-AR')}\n                                {expense.due_date && (\n                                  <span className=\"ml-2\">\n                                    â€¢ Vence: {new Date(expense.due_date).toLocaleDateString('es-AR')}\n                                  </span>\n                                )}\n                              </p>\n                            </div>\n                          </div>\n                          <div className=\"text-right ml-3\">\n                            <p className=\"font-semibold text-fr-gray-900\">\n                              -{formatAmount(expense.amount)}\n                            </p>\n                            {expense.percentage && (\n                              <p className=\"text-xs text-fr-gray-500\">\n                                {formatPercentage(expense.percentage)} del total\n                              </p>\n                            )}\n                            {expense.amount_paid > 0 && expense.amount_paid < expense.amount && (\n                              <p className=\"text-xs text-fr-gray-500\">\n                                Pagado: {formatAmount(expense.amount_paid)}\n                              </p>\n                            )}\n                          </div>\n                        </div>\n                      );\n                    })\n                )}\n              </div>\n            </div>\n\n            {/* Separador vertical - Solo visible en desktop */}\n            <div className=\"hidden lg:block absolute left-1/2 top-4 bottom-4 w-px bg-gradient-to-b from-transparent via-fr-gray-200 to-transparent transform -translate-x-1/2\"></div>\n\n            {/* Columna de Ingresos */}\n            <div className=\"space-y-4\">\n              <div className=\"space-y-3 mb-4\">\n                <div className=\"flex items-center justify-between\">\n                  <h4 className=\"font-semibold text-fr-secondary flex items-center\">\n                    <TrendingUp className=\"w-5 h-5 mr-2\" />\n                    Ingresos\n                  </h4>\n                  <span className=\"text-lg font-bold text-fr-secondary\">\n                    {formatAmount(data.totalIncome)}\n                  </span>\n                </div>\n\n              </div>\n              \n              <div className=\"space-y-3 max-h-96 overflow-y-auto\">\n                {data.incomes.length === 0 ? (\n                  <div className=\"text-center py-8 text-fr-gray-500\">\n                    <TrendingUp className=\"w-8 h-8 mx-auto mb-2 opacity-50\" />\n                    <p>No hay ingresos en este perÃ­odo</p>\n                  </div>\n                ) : (\n                  sortTransactions(data.incomes, sortBy)\n                    .map((income, index) => {\n                      const color = getCategoryColor(income.category_id);\n                      const category = data.categories.find(c => c.id === income.category_id);\n                      return (\n                        <div key={income.id || index} className={`flex items-center justify-between p-3 rounded-fr bg-white border border-fr-gray-100 hover:shadow-sm transition-shadow`}>\n                          <div className=\"flex-1\">\n                            <div className=\"flex items-center space-x-2\">\n                              <p className=\"font-medium text-fr-gray-900 text-sm\">\n                                {income.description}\n                              </p>\n                              {category && (\n                                <span className={`px-2 py-1 rounded text-xs font-medium ${color.bg} ${color.text} border ${color.border}`}>\n                                  {category.name}\n                                </span>\n                              )}\n                            </div>\n                            <p className=\"text-xs text-fr-gray-500 mt-1\">\n                              {new Date(income.created_at).toLocaleDateString('es-AR')}\n                            </p>\n                          </div>\n                          <div className=\"text-right ml-3\">\n                            <p className=\"font-semibold text-fr-secondary\">\n                              +{formatAmount(income.amount)}\n                            </p>\n                            {income.percentage && (\n                              <p className=\"text-xs text-fr-gray-500\">\n                                {formatPercentage(income.percentage)}\n                              </p>\n                            )}\n                          </div>\n                        </div>\n                      );\n                    })\n                )}\n              </div>\n            </div>\n          </div>\n\n          {/* Resumen de totales del perÃ­odo */}\n          {(data.expenses.length > 0 || data.incomes.length > 0) && (\n            <div className=\"mt-6 pt-4 border-t border-fr-gray-200\">\n              <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4\">\n                {/* Total gastos */}\n                <div className=\"flex items-center justify-between\">\n                  <span className=\"font-medium text-fr-gray-600\">Total gastos:</span>\n                  <div className=\"text-right\">\n                    <div className=\"font-bold text-fr-gray-900\">\n                      {formatAmount(data.totalExpenses)}\n                    </div>\n                    {data.totalIncome > 0 && (\n                      <div className=\"text-xs text-fr-gray-500\">\n                        {((data.totalExpenses / data.totalIncome) * 100).toFixed(1)}% de ingresos\n                      </div>\n                    )}\n                  </div>\n                </div>\n\n                {/* Total ingresos */}\n                <div className=\"flex items-center justify-between\">\n                  <span className=\"font-medium text-fr-gray-600\">Total ingresos:</span>\n                  <div className=\"text-right\">\n                    <div className=\"font-bold text-fr-secondary\">\n                      {formatAmount(data.totalIncome)}\n                    </div>\n                    <div className=\"text-xs text-fr-gray-500\">\n                      100% base\n                    </div>\n                  </div>\n                </div>\n              </div>\n              \n              {/* Balance del perÃ­odo */}\n              <div className=\"flex items-center justify-between pt-3 border-t border-fr-gray-200\">\n                <span className=\"text-fr-gray-600\">Balance del perÃ­odo:</span>\n                <span className={`text-xl font-bold ${data.balance >= 0 ? 'text-fr-secondary' : 'text-fr-error'}`}>\n                  {data.balance >= 0 ? '+' : ''}{formatAmount(data.balance)}\n                </span>\n              </div>\n            </div>\n          )}\n        </div>\n      )}\n\n      {/* GrÃ¡ficos */}\n      <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4 lg:gap-6\">\n        {/* MÃ©tricas clave */}\n        <div className=\"card\">\n          <div className=\"flex items-center justify-between mb-6\">\n            <div>\n              <h3 className=\"text-lg font-semibold text-fr-gray-900\">\n                {hasActiveFilters ? `MÃ©tricas de ${getPeriodTitle()}` : 'MÃ©tricas del PerÃ­odo'}\n              </h3>\n              <p className=\"text-sm text-fr-gray-500 mt-1\">\n                EstadÃ­sticas clave de tus finanzas\n              </p>\n            </div>\n          </div>\n          \n          <div className=\"grid grid-cols-2 gap-4\">\n            {/* Total de transacciones */}\n            <div className=\"bg-fr-gray-50 rounded-fr p-4\">\n              <div className=\"flex items-center space-x-3\">\n                <div className=\"p-2 bg-blue-100 rounded-fr\">\n                  <BarChart3 className=\"w-5 h-5 text-blue-600\" />\n                </div>\n                <div>\n                  <p className=\"text-sm text-fr-gray-600\">Total Transacciones</p>\n                  <p className=\"text-xl font-bold text-fr-gray-900\">\n                    {data.expenses.length + data.incomes.length}\n                  </p>\n                </div>\n              </div>\n            </div>\n\n            {/* Promedio diario */}\n            <div className=\"bg-fr-gray-50 rounded-fr p-4\">\n              <div className=\"flex items-center space-x-3\">\n                <div className=\"p-2 bg-purple-100 rounded-fr\">\n                  <Calendar className=\"w-5 h-5 text-purple-600\" />\n                </div>\n                <div>\n                  <p className=\"text-sm text-fr-gray-600\">Promedio Diario</p>\n                  <p className=\"text-xl font-bold text-fr-gray-900\">\n                    {(() => {\n                      const totalExpenses = data.expenses.reduce((sum, exp) => sum + exp.amount, 0);\n                      const daysInPeriod = hasActiveFilters ? 30 : 30; // Simplificado por ahora\n                      const dailyAvg = totalExpenses / daysInPeriod;\n                      return formatAmount(dailyAvg);\n                    })()}\n                  </p>\n                </div>\n              </div>\n            </div>\n\n            {/* CategorÃ­a top */}\n            <div className=\"bg-fr-gray-50 rounded-fr p-4\">\n              <div className=\"flex items-center space-x-3\">\n                <div className=\"p-2 bg-orange-100 rounded-fr\">\n                  <Target className=\"w-5 h-5 text-orange-600\" />\n                </div>\n                <div>\n                  <p className=\"text-sm text-fr-gray-600\">Mayor Gasto</p>\n                  <p className=\"text-sm font-semibold text-fr-gray-900\">\n                    {(() => {\n                      const categoryExpenses = {};\n                      data.expenses.forEach(expense => {\n                        if (!categoryExpenses[expense.category_id]) {\n                          categoryExpenses[expense.category_id] = 0;\n                        }\n                        categoryExpenses[expense.category_id] += expense.amount;\n                      });\n                      \n                      const topCategoryId = Object.keys(categoryExpenses).reduce((a, b) => \n                        categoryExpenses[a] > categoryExpenses[b] ? a : b, null\n                      );\n                      \n                      if (!topCategoryId) return 'Sin datos';\n                      \n                      const topCategory = data.categories.find(c => c.id == topCategoryId);\n                      return topCategory ? topCategory.name : 'Sin categorÃ­a';\n                    })()}\n                  </p>\n                </div>\n              </div>\n            </div>\n\n            {/* Gastos pendientes */}\n            <div className=\"bg-fr-gray-50 rounded-fr p-4\">\n              <div className=\"flex items-center space-x-3\">\n                <div className=\"p-2 bg-red-100 rounded-fr\">\n                  <AlertCircle className=\"w-5 h-5 text-red-600\" />\n                </div>\n                <div>\n                  <p className=\"text-sm text-fr-gray-600\">Pendientes</p>\n                  <p className=\"text-xl font-bold text-red-600\">\n                    {data.expenses.filter(exp => !exp.paid).length}\n                  </p>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* GrÃ¡fico de categorÃ­as */}\n        <div className=\"card\">\n          <h3 className=\"text-lg font-semibold text-fr-gray-900 mb-6\">\n            Gastos por CategorÃ­a{hasActiveFilters && ` - ${getPeriodTitle()}`}\n          </h3>\n          {pieData.length > 0 ? (\n                        <div className=\"flex items-center justify-center\">\n              <ResponsiveContainer width=\"100%\" height={380}>\n                <RechartsPieChart>\n                  <Pie\n                    data={pieData}\n                    cx=\"50%\"\n                    cy=\"45%\"\n                    innerRadius={50}\n                    outerRadius={110}\n                    paddingAngle={2}\n                    dataKey=\"value\"\n                    label={({ name, value, percent, midAngle, innerRadius, outerRadius, cx, cy }) => {\n                      const RADIAN = Math.PI / 180;\n                      const radius = outerRadius + 40;\n                      const x = cx + radius * Math.cos(-midAngle * RADIAN);\n                      const y = cy + radius * Math.sin(-midAngle * RADIAN);\n                      \n                      return (\n                        <text \n                          x={x} \n                          y={y} \n                          fill=\"#374151\" \n                          textAnchor={x > cx ? 'start' : 'end'} \n                          dominantBaseline=\"central\"\n                          fontSize=\"13\"\n                          fontWeight=\"500\"\n                        >\n                          {`${name}: ${value.toFixed(1)}%`}\n                        </text>\n                      );\n                    }}\n                    labelLine={false}\n                    startAngle={90}\n                    endAngle={450}\n                  >\n                                          {pieData.map((entry, index) => (\n                        <Cell \n                          key={`cell-${index}`} \n                          fill={entry.color} \n                          stroke=\"#ffffff\"\n                          strokeWidth={2}\n                        />\n                      ))}\n                  </Pie>\n                  <Tooltip \n                    formatter={(value, name, props) => [\n                      `${value.toFixed(1)}% (${formatCurrency(props.payload.amount)})`, \n                      'Porcentaje'\n                    ]}\n                    contentStyle={{\n                      backgroundColor: 'white',\n                      border: '1px solid #e5e7eb',\n                      borderRadius: '8px',\n                      boxShadow: '0 4px 12px 0 rgba(0, 0, 0, 0.15)',\n                    }}\n                  />\n                </RechartsPieChart>\n              </ResponsiveContainer>\n            </div>\n          ) : (\n            <div className=\"flex flex-col items-center justify-center h-64 text-center\">\n              <PieChart className=\"w-12 h-12 text-fr-gray-400 mb-4\" />\n              <h4 className=\"text-lg font-medium text-fr-gray-600 mb-2\">No hay gastos por categorÃ­as</h4>\n              <p className=\"text-sm text-fr-gray-500\">\n                Los gastos aparecerÃ¡n aquÃ­ una vez que agregues algunos gastos con categorÃ­as\n              </p>\n            </div>\n          )}\n        </div>\n      </div>\n\n      {/* Transacciones recientes */}\n      <div className=\"card\">\n        <div className=\"flex items-center justify-between mb-6\">\n          <h3 className=\"text-lg font-semibold text-fr-gray-900\">Transacciones Recientes</h3>\n          <button className=\"btn-ghost\">Ver todas</button>\n        </div>\n        <div className=\"space-y-4\">\n          {(() => {\n            const allTransactions = [...data.expenses.slice(0, 3), ...data.incomes.slice(0, 2)];\n            const sortedTransactions = allTransactions\n              .sort((a, b) => new Date(b.created_at) - new Date(a.created_at))\n              .slice(0, 5);\n            \n            return sortedTransactions.map((transaction, index) => {\n              const isExpense = transaction.hasOwnProperty('paid');\n              const color = getCategoryColor(transaction.category_id);\n              const category = data.categories.find(c => c.id === transaction.category_id);\n              return (\n                <div key={index} className={`flex items-center justify-between p-4 rounded-fr bg-fr-gray-50 border-l-4 ${color.border || (isExpense ? 'border-fr-gray-900' : 'border-fr-secondary')}`}>\n                  <div className=\"flex items-center space-x-3\">\n                    <div className={`p-2 rounded-fr ${isExpense ? 'bg-gray-100' : 'bg-green-100'}`}>\n                      {isExpense ? (\n                        <TrendingDown className=\"w-4 h-4 text-fr-gray-900\" />\n                      ) : (\n                        <TrendingUp className=\"w-4 h-4 text-fr-secondary\" />\n                      )}\n                    </div>\n                    <div className=\"flex-1\">\n                      <div className=\"flex items-center space-x-2\">\n                        <p className=\"font-medium text-fr-gray-900\">{transaction.description}</p>\n                        {/* Indicador de pago solo para gastos */}\n                        {isExpense && (\n                          <div className=\"flex items-center space-x-1\">\n                            {transaction.paid ? (\n                              <CheckCircle className=\"w-4 h-4 text-fr-secondary\" />\n                            ) : (\n                              <XCircle className=\"w-4 h-4 text-fr-error\" />\n                            )}\n                            {!transaction.paid && (\n                              <span className=\"badge-error text-xs\">Pendiente</span>\n                            )}\n                          </div>\n                        )}\n                        {/* Badge de categorÃ­a */}\n                        {category && (\n                          <span className={`px-2 py-1 rounded text-xs font-medium ${color.bg} ${color.text} border ${color.border}`}>\n                            {category.name}\n                          </span>\n                        )}\n                      </div>\n                      <p className=\"text-sm text-fr-gray-500\">\n                        {transaction.created_at ? formatDate(transaction.created_at) : 'Fecha no disponible'}\n                      </p>\n                    </div>\n                  </div>\n                  <div className=\"text-right\">\n                    <p className={`font-semibold ${isExpense ? 'text-fr-gray-900' : 'text-fr-secondary'}`}>\n                      {isExpense ? '-' : '+'}{formatAmount(transaction.amount)}\n                    </p>\n                    {transaction.percentage && (\n                      <p className=\"text-sm text-fr-gray-500\">\n                        {formatPercentage(transaction.percentage)} del total\n                      </p>\n                    )}\n                  </div>\n                </div>\n              );\n            });\n          })()}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Dashboard; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}